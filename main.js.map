{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"tslib\"","webpack:///external \"@nestjs/common\"","webpack:///./libs/config/src/index.ts","webpack:///external \"lodash\"","webpack:///./apps/doghouse/src/app/modules/release-manager/services/release-manager.service.ts","webpack:///./libs/types/doghouse/src/index.ts","webpack:///external \"class-validator\"","webpack:///./apps/doghouse/src/app/modules/release-manager/services/deploy.service.ts","webpack:///./apps/doghouse/src/app/modules/health/services/service-health.service.ts","webpack:///./libs/config/src/lib/config.ts","webpack:///./libs/common/src/index.ts","webpack:///./libs/common/src/lib/helpers/object.helper.ts","webpack:///./libs/nestjs/redis/src/index.ts","webpack:///./libs/nestjs/redis/src/lib/constants.ts","webpack:///external \"ioredis\"","webpack:///external \"path\"","webpack:///./apps/doghouse/src/app/modules/auth/guards/api-key.guard.ts","webpack:///./apps/doghouse/src/app/modules/auth/services/api-key.service.ts","webpack:///./apps/doghouse/src/app/modules/health/services/system-health.service.ts","webpack:///./libs/config/src/lib/helpers/cast.helper.ts","webpack:///./libs/common/src/lib/enums/index.ts","webpack:///./libs/common/src/lib/enums/i40mi-principle.enum.ts","webpack:///./libs/common/src/lib/enums/smi-principle.enum.ts","webpack:///external \"rxjs/operators\"","webpack:///./libs/nestjs/redis/src/lib/services/redis-client-helper.services.ts","webpack:///external \"@nestjs/schedule\"","webpack:///./apps/doghouse/src/app/modules/release-manager/release-manager.module.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/dto/release-instruction-input.dto.ts","webpack:///external \"class-transformer\"","webpack:///./apps/doghouse/src/app/modules/release-manager/services/git.service.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/services/k8s-cluster.service.ts","webpack:///external \"p-limit\"","webpack:///./apps/doghouse/src/app/consts/services.const.ts","webpack:///./apps/doghouse/src/loader.ts","webpack:///./libs/config/src/lib/helpers/enumerate-nested-config.helper.ts","webpack:///./libs/config/src/lib/get-config.ts","webpack:///./libs/config/src/lib/retrieve-env.ts","webpack:///./libs/common/src/lib/enums/assessment-type.enum.ts","webpack:///./libs/common/src/lib/enums/country-code.enum.ts","webpack:///./libs/common/src/lib/enums/employee-count.enum.ts","webpack:///./libs/common/src/lib/enums/i40mp-service.enum.ts","webpack:///./libs/common/src/lib/enums/industry.enum.ts","webpack:///./libs/common/src/lib/enums/industry-type.enum.ts","webpack:///./libs/common/src/lib/enums/language-code.enum.ts","webpack:///./libs/common/src/lib/enums/language-name.enum.ts","webpack:///./libs/common/src/lib/enums/maturity-level-bit.enum.ts","webpack:///./libs/common/src/lib/enums/maturity-level-name.enum.ts","webpack:///./libs/common/src/lib/enums/maturity-level-value.enum.ts","webpack:///./libs/common/src/lib/enums/operation.enum.ts","webpack:///./libs/common/src/lib/enums/question-entity-metadatum-type.enum.ts","webpack:///./libs/common/src/lib/enums/question-entity-update-type.enum.ts","webpack:///./libs/common/src/lib/enums/role.enum.ts","webpack:///./libs/common/src/lib/enums/supply-chain-position.enum.ts","webpack:///./libs/common/src/lib/decorators/index.ts","webpack:///./libs/common/src/lib/decorators/default-options.decorator.ts","webpack:///./libs/common/src/lib/decorators/returns-null-instead-of-empty-array.decorator.ts","webpack:///./libs/common/src/lib/exceptions/index.ts","webpack:///./libs/common/src/lib/exceptions/aggregated.exception.ts","webpack:///./libs/common/src/lib/exceptions/corrupt-state.exception.ts","webpack:///./libs/common/src/lib/exceptions/union-mapping.exception.ts","webpack:///./libs/common/src/lib/helpers/index.ts","webpack:///./libs/common/src/lib/helpers/augments-batch-function-call.helper.ts","webpack:///./libs/common/src/lib/helpers/date.helper.ts","webpack:///./libs/common/src/lib/helpers/enum.helper.ts","webpack:///./libs/common/src/lib/helpers/json.helper.ts","webpack:///./libs/common/src/lib/helpers/math.helper.ts","webpack:///./libs/common/src/lib/helpers/polymorphic-key-fn-loader.helper.ts","webpack:///./libs/common/src/lib/helpers/promise.helper.ts","webpack:///./libs/common/src/lib/helpers/query-data.helper.ts","webpack:///./libs/common/src/lib/helpers/retry.helper.ts","webpack:///./libs/common/src/lib/helpers/rxjs.helper.ts","webpack:///external \"rxjs\"","webpack:///./libs/common/src/lib/helpers/sleep.helper.ts","webpack:///./libs/common/src/lib/helpers/sort-top-level-record-keys.helper.ts","webpack:///./libs/common/src/lib/helpers/string.helper.ts","webpack:///./libs/common/src/lib/helpers/uuid.helper.ts","webpack:///external \"uuid\"","webpack:///./libs/common/src/lib/types/index.ts","webpack:///./libs/common/src/lib/types/principle.ts","webpack:///./libs/config/src/lib/retrieve-secret.ts","webpack:///./libs/config/src/presets/index.ts","webpack:///./libs/config/src/presets/app-config.preset.ts","webpack:///./apps/doghouse/src/app/app-config.ts","webpack:///./libs/nestjs/redis/src/lib/redis.module.ts","webpack:///./libs/nestjs/redis/src/lib/providers/create-redis-client.provider.ts","webpack:///./libs/nestjs/redis/src/lib/config.preset.ts","webpack:///./apps/doghouse/src/environments/environment.staging.ts","webpack:///./apps/doghouse/src/app/app-version.ts","webpack:///./apps/doghouse/src/main.ts","webpack:///external \"@nestjs/core\"","webpack:///external \"debug\"","webpack:///external \"hbs\"","webpack:///./apps/doghouse/src/app/app.module.ts","webpack:///./apps/doghouse/src/app/controllers/app.controller.ts","webpack:///./apps/doghouse/src/app/modules/auth/auth.module.ts","webpack:///./apps/doghouse/src/app/modules/auth/services/index.ts","webpack:///./apps/doghouse/src/app/modules/health/health.module.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/controllers/index.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/controllers/scheduled-release.controller.ts","webpack:///./libs/types/doghouse/src/lib/enums/index.ts","webpack:///./libs/types/doghouse/src/lib/enums/release-instruction-status.enum.ts","webpack:///./libs/types/doghouse/src/lib/enums/release-type.enum.ts","webpack:///./libs/types/doghouse/src/lib/enums/service-status.enum.ts","webpack:///./libs/types/doghouse/src/lib/enums/system-status.enum.ts","webpack:///./libs/types/doghouse/src/lib/types/index.ts","webpack:///external \"child_process\"","webpack:///external \"util\"","webpack:///external \"fs-extra\"","webpack:///external \"nodegit\"","webpack:///external \"@kubernetes/client-node\"","webpack:///external \"fs/promises\"","webpack:///external \"js-yaml\"","webpack:///./apps/doghouse/src/app/modules/release-manager/validators/is-commit-ref.validator.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/validators/is-smaller-than.validator.ts","webpack:///./apps/doghouse/src/app/modules/release-manager/services/index.ts","webpack:///./apps/doghouse/src/app/modules/health/controllers/index.ts","webpack:///./apps/doghouse/src/app/modules/health/controllers/health.controller.ts","webpack:///external \"axios\"","webpack:///./apps/doghouse/src/app/modules/health/services/index.ts","webpack:///./apps/doghouse/src/app/modules/health/services/cron.service.ts"],"names":[],"mappings":"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AAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,2BAAW;IACX,iCAAiB;IACjB,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yCAAyB;IACzB,+BAAe;IACf,yCAAyB;IACzB,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,2BAAW;IACX,iCAAiB;IACjB,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yCAAyB;IACzB,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,yBAAS;IACT,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,+BAAe;IACf,yBAAS;IACT,+BAAe;AACjB,CAAC,EAzOW,YAAY,GAAZ,oBAAY,KAAZ,oBAAY,QAyOvB;;;;;;;;;;;AC9OD,IAAY,YAyOX;AAzOD,WAAY,YAAY;IACtB,gCAAgB;IAChB,kDAAkC;IAClC,6BAAa;IACb,yCAAyB;IACzB,0CAA0B;IAC1B,0CAA0B;IAC1B,wCAAwB;IACxB,uCAAuB;IACvB,yCAAyB;IACzB,yCAAyB;IACzB,0CAA0B;IAC1B,wCAAwB;IACxB,0CAA0B;IAC1B,uCAAuB;IACvB,wCAAwB;IACxB,+CAA+B;IAC/B,wCAAwB;IACxB,0CAA0B;IAC1B,wCAAwB;IACxB,oCAAoB;IACpB,oDAAoC;IACpC,4DAA4C;IAC5C,iCAAiB;IACjB,8CAA8B;IAC9B,gCAAgB;IAChB,8CAA8B;IAC9B,0DAA0C;IAC1C,8BAAc;IACd,yCAAyB;IACzB,4BAAY;IACZ,gDAAgC;IAChC,4BAAY;IACZ,gDAAgC;IAChC,6BAAa;IACb,0CAA0B;IAC1B,6BAAa;IACb,0CAA0B;IAC1B,8CAA8B;IAC9B,0CAA0B;IAC1B,gDAAgC;IAChC,6CAA6B;IAC7B,6BAAa;IACb,2CAA2B;IAC3B,4BAAY;IACZ,wCAAwB;IACxB,8BAAc;IACd,6CAA6B;IAC7B,0CAA0B;IAC1B,0CAA0B;IAC1B,6CAA6B;IAC7B,kDAAkC;IAClC,2CAA2B;IAC3B,2CAA2B;IAC3B,+CAA+B;IAC/B,+DAA+C;IAC/C,uDAAuC;IACvC,iDAAiC;IACjC,gDAAgC;IAChC,4CAA4B;IAC5B,gCAAgB;IAChB,8BAAc;IACd,6CAA6B;IAC7B,2CAA2B;IAC3B,yCAAyB;IACzB,4CAA4B;IAC5B,8CAA8B;IAC9B,sDAAsC;IACtC,2CAA2B;IAC3B,yCAAyB;IACzB,6CAA6B;IAC7B,4CAA4B;IAC5B,0CAA0B;IAC1B,6CAA6B;IAC7B,0CAA0B;IAC1B,wCAAwB;IACxB,+CAA+B;IAC/B,4CAA4B;IAC5B,+CAA+B;IAC/B,2CAA2B;IAC3B,6CAA6B;IAC7B,+BAAe;IACf,4CAA4B;IAC5B,6BAAa;IACb,wCAAwB;IACxB,4BAAY;IACZ,sCAAsB;IACtB,8BAAc;IACd,2CAA2B;IAC3B,8BAAc;IACd,iDAAiC;IACjC,6BAAa;IACb,0CAA0B;IAC1B,yCAAyB;IACzB,8CAA8B;IAC9B,yCAAyB;IACzB,6CAA6B;IAC7B,yDAAyC;IACzC,+BAAe;IACf,0CAA0B;IAC1B,+BAAe;IACf,0CAA0B;IAC1B,6BAAa;IACb,yCAAyB;IACzB,4BAAY;IACZ,uCAAuB;IACvB,+BAAe;IACf,2DAA2C;IAC3C,4CAA4B;IAC5B,gCAAgB;IAChB,6CAA6B;IAC7B,+BAAe;IACf,4CAA4B;IAC5B,iCAAiB;IACjB,gDAAgC;IAChC,gCAAgB;IAChB,6CAA6B;IAC7B,8BAAc;IACd,+CAA+B;IAC/B,yCAAyB;IACzB,+BAAe;IACf,0CAA0B;IAC1B,+BAAe;IACf,4CAA4B;IAC5B,6BAAa;IACb,6CAA6B;IAC7B,8BAAc;IACd,yCAAyB;IACzB,6BAAa;IACb,wCAAwB;IACxB,+BAAe;IACf,0CAA0B;IAC1B,6BAAa;IACb,6CAA6B;IAC7B,iCAAiB;IACjB,gDAAgC;IAChC,8BAAc;IACd,0CAA0B;IAC1B,4BAAY;IACZ,6CAA6B;IAC7B,sCAAsB;IACtB,iFAAiE;IACjE,gCAAgB;IAChB,8CAA8B;IAC9B,8BAAc;IACd,yCAAyB;IACzB,4BAAY;IACZ,mDAAmC;IACnC,0CAA0B;IAC1B,8BAAc;IACd,yCAAyB;IACzB,yCAAyB;IACzB,qDAAqC;IACrC,4BAAY;IACZ,yCAAyB;IACzB,6CAA6B;IAC7B,sDAAsC;IACtC,qCAAqB;IACrB,uDAAuC;IACvC,8BAAc;IACd,yCAAyB;IACzB,6BAAa;IACb,yCAAyB;IACzB,6BAAa;IACb,8CAA8B;IAC9B,iCAAiB;IACjB,6CAA6B;IAC7B,+CAA+B;IAC/B,8BAAc;IACd,2CAA2B;IAC3B,2CAA2B;IAC3B,wCAAwB;IACxB,+BAAe;IACf,4CAA4B;IAC5B,8BAAc;IACd,0CAA0B;IAC1B,+BAAe;IACf,0CAA0B;IAC1B,2BAAW;IACX,wCAAwB;IACxB,uCAAuB;IACvB,uCAAuB;IACvB,6BAAa;IACb,2CAA2B;IAC3B,gCAAgB;IAChB,8CAA8B;IAC9B,+BAAe;IACf,4CAA4B;IAC5B,kEAAkD;IAClD,0EAA0D;IAC1D,iEAAiD;IACjD,yEAAyD;IACzD,8BAAc;IACd,2CAA2B;IAC3B,0CAA0B;IAC1B,8BAAc;IACd,yCAAyB;IACzB,8BAAc;IACd,yCAAyB;IACzB,4BAAY;IACZ,uCAAuB;IACvB,6BAAa;IACb,wCAAwB;IACxB,2BAAW;IACX,yCAAyB;IACzB,8BAAc;IACd,+CAA+B;IAC/B,6BAAa;IACb,+CAA+B;IAC/B,8BAAc;IACd,0CAA0B;IAC1B,4BAAY;IACZ,wCAAwB;IACxB,6BAAa;IACb,gCAAgB;IAChB,6CAA6B;IAC7B,2BAAW;IACX,6DAA6C;IAC7C,oCAAoB;IACpB,oDAAoC;IACpC,4DAA4C;IAC5C,iCAAiB;IACjB,+CAA+B;IAC/B,4BAAY;IACZ,8CAA8B;IAC9B,8BAAc;IACd,qCAAqB;IACrB,6CAA6B;IAC7B,yCAAyB;IACzB,6CAA6B;IAC7B,qCAAqB;IACrB,2BAAW;IACX,6CAA6B;AAC/B,CAAC,EAzOW,YAAY,GAAZ,oBAAY,KAAZ,oBAAY,QAyOvB;;;;;;;;;;;ACzOD,IAAY,gBAOX;AAPD,WAAY,gBAAgB;IAC1B,6EAAmB;IACnB,uEAAgB;IAChB,mEAAc;IACd,uEAAgB;IAChB,4EAAmB;IACnB,wEAAiB;AACnB,CAAC,EAPW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAO3B;;;;;;;;;;;ACPD,IAAY,iBAQX;AARD,WAAY,iBAAiB;IAC3B,wDAAmC;IACnC,kDAA6B;IAC7B,8CAAyB;IACzB,kDAA6B;IAC7B,sDAAiC;IACjC,kDAA6B;IAC7B,sDAAiC;AACnC,CAAC,EARW,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAQ5B;;;;;;;;;;;ACRD,IAAY,kBAQX;AARD,WAAY,kBAAkB;IAC5B,iFAAmB;IACnB,2EAAY;IACZ,uEAAU;IACV,2EAAY;IACZ,+EAAc;IACd,2EAAY;IACZ,gFAAmB;AACrB,CAAC,EARW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAQ7B;;;;;;;;;;;ACRD,IAAY,SAIX;AAJD,WAAY,SAAS;IACnB,8BAAiB;IACjB,8BAAiB;IACjB,8BAAiB;AACnB,CAAC,EAJW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAIpB;;;;;;;;;;;ACJD,IAAY,2BAMX;AAND,WAAY,2BAA2B;IACrC,4DAA6B;IAC7B,wDAAyB;IACzB,sEAAuC;IACvC,sDAAuB;IACvB,8DAA+B;AACjC,CAAC,EANW,2BAA2B,GAA3B,mCAA2B,KAA3B,mCAA2B,QAMtC;;;;;;;;;;;ACND,IAAY,wBAIX;AAJD,WAAY,wBAAwB;IAClC,2CAAe;IACf,2CAAe;IACf,qDAAyB;AAC3B,CAAC,EAJW,wBAAwB,GAAxB,gCAAwB,KAAxB,gCAAwB,QAInC;;;;;;;;;;;ACJD,IAAY,IAKX;AALD,WAAY,IAAI;IACd,uBAAe;IACf,iCAAyB;IACzB,2BAAmB;IACnB,yBAAiB;AACnB,CAAC,EALW,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAKf;;;;;;;;;;;ACLD,IAAY,mBAMX;AAND,WAAY,mBAAmB;IAC7B,kCAAW;IACX,sCAAe;IACf,sCAAe;IACf,8CAAuB;IACvB,wCAAiB;AACnB,CAAC,EANW,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QAM9B;;;;;;;;;;;ACND,uDAA4C;AAC5C,uDAAgE;;;;;;;;;;;ACDhE,gDAA4E;AAE5E,MAAM,sBAAsB,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC;AAC1D,MAAM,oBAAoB,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;AAEtD;;;;;GAKG;AACI,MAAM,cAAc,GAAG,CAC5B,cAAsB,EACtB,SAA2B,EAC3B,EAAE;IACF,OAAO,CAAC,MAAW,EAAE,WAAmB,EAAE,UAA8B,EAAE,EAAE;QAC1E,SAAS,GAAG,SAAS,IAAI,sBAAsB,CAAC;QAEhD,UAAU,CAAC,KAAK,CAAC,oBAAoB,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;QACtF,UAAU,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;QACnE,OAAO,UAAU,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAXY,sBAAc,kBAW1B;AAED;;GAEG;AACH,SAAgB,YAAY,CAC1B,IAA6B,EAC7B,OAAU,EACV,SAA2B;;IAE3B,SAAS,GAAG,SAAS,IAAI,sBAAsB,CAAC;IAChD,MAAM,cAAc,GAAG,UAAI,CAAC,oBAAoB,CAAC,0CAAG,SAAS,CAAC,CAAC;IAE/D,IAAI,wBAAQ,CAAC,cAAc,CAAC,EAAE;QAC5B,MAAM,WAAW,GAAG,wBAAQ,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,wBAAQ,CAAC,OAAO,CAAC,EAAE;YACrB,4BAAY,CACV,WAAW,EACX,OAAO,CACR,CAAC;SACH;QACD,OAAO,WAAW,CAAC;KACpB;IAED,OAAO,wBAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,wBAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACpD,CAAC;AApBD,oCAoBC;;;;;;;;;;;AC/CM,MAAM,8BAA8B,GAAG,GAAG,EAAE;IACjD,OAAO,UAAU,MAAW,EAAE,WAAmB,EAAE,UAA8B;QAC/E,MAAM,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC;QACpC,UAAU,CAAC,KAAK,GAAG,KAAK,WAAW,GAAG,IAAW;YAC/C,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAClD,OAAO,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;QAC7C,CAAC,CAAC;QAEF,OAAO,UAAU,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAVW,sCAA8B,kCAUzC;;;;;;;;;;;ACVF,uDAAuC;AACvC,uDAA0C;AAC1C,uDAA0C;;;;;;;;;;;ACF1C;;;;;GAKG;AACH,MAAa,mBAAoB,SAAQ,KAAK;IAC5C,YACW,MAAkC,EAC3C,OAAgB;QAEhB,KAAK,CAAC,OAAO,CAAC,CAAC;QAHN,WAAM,GAAN,MAAM,CAA4B;QAI3C,IAAI,CAAC,IAAI,GAAG,qBAAqB,CAAC;QAElC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;CACF;AAVD,kDAUC;;;;;;;;;;;AChBD,MAAa,qBAAsB,SAAQ,KAAK;IAG9C,YAAY,OAAgB;QAC1B,KAAK,CAAC,OAAO,CAAC,CAAC;QAHV,SAAI,GAAG,uBAAuB,CAAC;QAKpC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;CACF;AARD,sDAQC;;;;;;;;;;;ACRD,MAAa,qBAAsB,SAAQ,KAAK;IAG9C,YAAY,OAAgB;QAC1B,KAAK,CAAC,OAAO,CAAC,CAAC;QAHV,SAAI,GAAG,uBAAuB,CAAC;QAKpC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;CACF;AARD,sDAQC;;;;;;;;;;;ACRD,uDAAsD;AACtD,uDAA8B;AAC9B,uDAA8B;AAC9B,uDAA8B;AAC9B,uDAA8B;AAC9B,uDAAgC;AAChC,uDAAmD;AACnD,uDAAiC;AACjC,uDAAoC;AACpC,uDAA+B;AAC/B,uDAA8B;AAC9B,uDAA+B;AAC/B,uDAAoD;AACpD,uDAAgC;AAChC,uDAA8B;;;;;;;;;;;ACd9B;;;;;;;;;GASG;AACI,KAAK,UAAU,yBAAyB,CAC7C,IAAkC,EAClC,eAAyC,EACzC,OAA6D,EAC7D,wBAA8C,EAAE;IAEhD,MAAM,qBAAqB,GAAG,EAAE,CAAC;IACjC,MAAM,YAAY,GAAa,EAAE,CAAC;IAElC,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;QACrB,IAAI,eAAe,CAAC,EAAE,CAAC,EAAE;YACvB,qBAAqB,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SACvD;KACF;IAED,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,YAAY,CAAC,CAAC;IAC/C,OAAQ,IAA0B,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;QAC1C,IAAI,qBAAqB,CAAC,EAAE,CAAC,KAAK,SAAS,EAAE;YAC3C,OAAO,qBAAqB,CAAC,EAAE,CAAC,CAAC;SAClC;QAED,OAAO,KAAK,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,CAAC;IACzF,CAAC,CAAC,CAAC;AACL,CAAC;AAvBD,8DAuBC;;;;;;;;;;;ACjCD,SAAgB,WAAW,CAAC,KAAW,EAAE,KAAW;IAClD,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAChE,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;IAEtC,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,CAAC;AACnD,CAAC;AALD,kCAKC;;;;;;;;;;;ACLD,SAAgB,WAAW,CAAC,UAA+B;IACzD,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAC1C,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CACzB,CAAC;AACJ,CAAC;AAJD,kCAIC;AAED,SAAgB,aAAa,CAAI,UAA6B;IAC5D,OAAO,WAAW,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7D,CAAC;AAFD,sCAEC;AAED,SAAgB,iBAAiB,CAAI,UAA6B,EAAE,SAAY;IAC9E,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;IAC3E,OAAO,GAAG,aAAH,GAAG,cAAH,GAAG,GAAI,IAAI,CAAC;AACrB,CAAC;AAHD,8CAGC;;;;;;;;;;;ACbY,YAAI,GAAG;IAClB,SAAS,CAAC,CAAM,EAAE,KAAuB;QACvC,MAAM,OAAO,GAAG,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAChC,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;oBACvB,OAAO,UAAU,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC;iBACrC;gBACD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACjB;YACD,OAAO,CAAC,CAAC;QACX,CAAC,EAAE,KAAK,CAAC,CAAC;IACZ,CAAC;CACF,CAAC;;;;;;;;;;;ACbF,SAAgB,MAAM,CAAC,CAAC,EAAE,CAAC;IACzB,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAC3B,CAAC;AAFD,wBAEC;AAED,SAAgB,YAAY,CAAC,GAAG,EAAE,GAAG;IACnC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACrB,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACtB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;AACvD,CAAC;AAJD,oCAIC;AAED;;;;;GAKG;AACH,SAAgB,SAAS,CAAC,GAAW,EAAE,GAAW,EAAE,GAAW;IAC7D,OAAO,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,CAAC;AAClC,CAAC;AAFD,8BAEC;AAED,SAAS,SAAS,CAAC,GAAoB;IACrC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3B,OAAO,IAAI,CAAC;KACb;SAAM,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAClC,OAAO,KAAK,CAAC;KACd;IACD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;AACjC,CAAC;;;;;;;;;;;AC3BD;;;;;;;;;;GAUG;AACI,KAAK,UAAU,sBAAsB,CAC1C,IAAkB,EAClB,iBAA0B,EAC1B,OAA0E,EAC1E,KAA6B,EAC7B,gBAAgD;IAEhD,MAAM,GAAG,GAAa,EAAE,CAAC;IACzB,MAAM,SAAS,GAEX,EAAE,CAAC;IAEP,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;QACtB,MAAM,QAAQ,GAAQ,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAE7C,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;SAC/D;QAED,MAAM,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAClC,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;YACd,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnB,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC;SACtC;aAAM;YACL,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;SAC3B;KACF;IAED,MAAM,SAAS,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC;IAErC,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;QACpB,MAAM,IAAI,GAAc,SAAS,CAAC,SAAS,CAAE,GAAG,CAAC,iBAAiB,CAAS,CAAC,CAAC,CAAC;QAC9E,IAAI,IAAI,YAAY,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;YACzC,OAAO,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,GAAG,EAAG,IAAqB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;SAChF;QAED,OAAO,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;AACL,CAAC;AAtCD,wDAsCC;;;;;;;;;;;ACjCD;;;GAGG;AACH,SAAgB,qBAAqB,CACnC,QAAkG;IAElG,IAAI,QAAQ,GAAyC,IAAI,CAAC;IAC1D,IAAI,OAAO,GAAG,IAAI,CAAC;IACnB,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAI,QAAQ,GAAG,KAAK,CAAC;IAErB,MAAM,OAAO,GAAuB,IAAI,OAAO,CAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACrE,QAAQ,GAAG,OAAO,CAAC;QACnB,OAAO,GAAG,MAAM,CAAC;QAEjB,IAAI,QAAQ,EAAE;YACZ,QAAQ,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;SAC3B;IACH,CAAC,CAAuB,CAAC;IAEzB,OAAO,CAAC,OAAO,GAAG,CAAC,KAA0B,EAAE,EAAE;QAC/C,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChB,QAAQ,GAAG,IAAI,CAAC;IAClB,CAAC,CAAC;IACF,OAAO,CAAC,MAAM,GAAG,CAAC,MAAY,EAAE,EAAE;QAChC,OAAO,CAAC,MAAM,CAAC,CAAC;QAChB,QAAQ,GAAG,IAAI,CAAC;IAClB,CAAC,CAAC;IACF,OAAO,CAAC,UAAU,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;IACpC,OAAO,CAAC,UAAU,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;IACpC,OAAO,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC;IAEjD,OAAO,OAAO,CAAC;AACjB,CAAC;AA9BD,sDA8BC;AAED,SAAgB,QAAQ,CAAO,IAAS,EAAE,MAAkC;IAC1E,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AACvC,CAAC;AAFD,4BAEC;AAEM,KAAK,UAAU,IAAI,CAAC,EAAU;IACnC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;AACzD,CAAC;AAFD,oBAEC;AAGD;;GAEG;AACH,SAAgB,sBAAsB,CAAI,UAAiE;IACzG,MAAM,OAAO,GAAwB,IAAI,OAAO,CAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACtE,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC9B,CAAC,CAAwB,CAAC;IAE1B,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;IAE1B,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE;QAChB,OAAO,CAAC,KAAK,GAAG,WAAW,CAAC;IAC9B,CAAC,CAAC;IAEF,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE;QACjB,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC;IAC7B,CAAC,CAAC;IAEF,OAAO,OAAO,CAAC;AACjB,CAAC;AAhBD,wDAgBC;;;;;;;;;;;AC9ED,wCAAmC;AAEnC,4CAAqC;AAGrC,SAAgB,SAAS,CACvB,KAAQ,EACR,cAAuB,IAAI,EAC3B,OAAiB;IAEjB,OAAO,eAAG,CAAC,CAAC,WAAW,EAAE,EAAE;;QACzB,IAAI,MAAM,GAAG,iBAAW,CAAC,IAAI,0CAAG,KAAe,CAAC,CAAC;QACjD,IAAI,WAAW,EAAE;YACf,MAAM,GAAG,kBAAS,CAAC,MAAM,CAAC,CAAC;SAC5B;QACD,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,OAAO,CAAC,CAAC;AACd,CAAC;AAZD,8BAYC;;;;;;;;;;;ACnBM,KAAK,UAAU,KAAK,CACzB,EAAoB,EACpB,UAAkB,CAAC,EACnB,eAAuB,IAAI,EAC3B,cAAuB,KAAK;IAE5B,IAAI;QACF,OAAO,MAAM,EAAE,EAAE,CAAC;KACnB;IAAC,OAAO,KAAK,EAAE;QACd,IAAI,OAAO,EAAE,IAAI,CAAC,EAAE;YAClB,MAAM,KAAK,CAAC;SACb;QAED,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,CAAC;QAChE,OAAO,KAAK,CACV,EAAE,EACF,OAAO,EACP,WAAW,CAAC,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,EAC7C,WAAW,CACZ,CAAC;KACH;AACH,CAAC;AArBD,sBAqBC;;;;;;;;;;;ACrBD,uCAA+I;AAC/I,4CAA6E;AAG7E,SAAgB,KAAK,CAAI,GAAW;IAClC,OAAO,eAAG,CAAI;QACZ,IAAI,CAAC,KAAK;YACR,OAAO,CAAC,GAAG,CAAC,MAAO,GAAI,SAAS,EAAE,iEAAiE,EAAE,KAAK,CAAC,CAAC;QAC9G,CAAC;QACD,KAAK,CAAC,KAAK;YACT,OAAO,CAAC,GAAG,CAAC,MAAO,GAAI,UAAU,EAAE,iEAAiE,EAAE,KAAK,CAAC,CAAC;QAC/G,CAAC;QACD,QAAQ;YACN,OAAO,CAAC,GAAG,CAAC,MAAO,GAAI,aAAa,EAAE,iEAAiE,CAAC,CAAC;QAC3G,CAAC;KACF,CAAC,CAAC;AACL,CAAC;AAZD,sBAYC;AAED,SAAgB,UAAU,CAAI,IAAa;IACzC,OAAO,SAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AAClC,CAAC;AAFD,gCAEC;AAED,SAAgB,SAAS;IACvB,OAAO,kBAAM,CAAI,KAAK,CAAC,EAAE,CAAC,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,CAAC,CAAC;AACnE,CAAC;AAFD,8BAEC;AAED,SAAgB,MAAM,CAAI,EAAK,EAAE,SAAkB,IAAI;IACrD,OAAO,eAAG,CAAa,CAAC,EAAK,EAAE,EAAE;QAC/B,OAAO,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC;IACvC,CAAC,CAAC,CAAC;AACL,CAAC;AAJD,wBAIC;AAED,SAAgB,IAAI,CAAI,GAAG,EAAO;IAChC,OAAO,eAAG,CAAa,CAAC,EAAK,EAAE,EAAE;QAC/B,OAAO,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;AACL,CAAC;AAJD,oBAIC;AAED,SAAgB,QAAQ,CAAO,UAAsD,EAAE,OAAiB;IACtG,OAAO,eAAG,CAAW,CAAC,KAAU,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;AACvE,CAAC;AAFD,4BAEC;AAED,SAAgB,WAAW,CAAI,SAA2D,EAAE,OAAiB;IAC3G,OAAO,eAAG,CAAW,CAAC,KAAU,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;AACzE,CAAC;AAFD,kCAEC;AAED,SAAgB,eAAe,CAC7B,eAAqD,EACrD,OAAuC;IAEvC,OAAO,CAAC,KAAK,EAAE,EAAE;QACf,OAAO,IAAI,iBAAU,CAAqB,UAAU,CAAC,EAAE;YAErD,IAAI,KAAK,GAAW,CAAC,CAAC;YAEtB,IAAI,iBAAiB,GAAiB,mBAAY,CAAC,KAAK,CAAC;YACzD,KAAK,CAAC,SAAS,CAAC;gBACd,IAAI,CAAC,KAAK;oBACR,iBAAiB,CAAC,WAAW,EAAE,CAAC;oBAChC,IAAI,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;wBACnC,iBAAiB,GAAG,WAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;6BAC5C,SAAS,CAAC;4BACT,IAAI,CAAC,KAAyB;gCAC5B,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACzB,CAAC;4BACD,KAAK,CAAC,KAAK;gCACT,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;4BAC1B,CAAC;4BACD,QAAQ;gCACN,UAAU,CAAC,QAAQ,EAAE,CAAC;4BACxB,CAAC;yBACF,CAAC,CAAC;qBACN;gBACH,CAAC;gBACD,KAAK,CAAC,KAAK;oBACT,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC1B,CAAC;gBACD,QAAQ;oBACN,iBAAiB,CAAC,WAAW,EAAE,CAAC;oBAChC,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACxB,CAAC;aACF,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAtCD,0CAsCC;AAED,SAAgB,eAAe,CAAmC,gBAAmB;IACnF,OAAO,CAAC,KAAK,EAAE,EAAE;QACf,OAAO,KAAK,CAAC,IAAI,CACf,0BAAc,CAAC,gBAAgB,CAAC,EAChC,kBAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,EACpC,eAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CACxB,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC;AARD,0CAQC;AAED,SAAgB,eAAe,CAAmC,gBAAmB;IACnF,OAAO,CAAC,KAAK,EAAE,EAAE;QACf,OAAO,KAAK,CAAC,IAAI,CACf,0BAAc,CAAC,gBAAgB,CAAC,EAChC,kBAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,EACnC,eAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CACxB,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC;AARD,0CAQC;AAED,SAAgB,aAAa,CAAoC,OAAU;IACzE,OAAO,CAAC,KAAK,EAAkC,EAAE;QAC/C,OAAO,KAAK,CAAC,IAAI,CACf,0BAAc,CAAC,OAAO,CAAC,EACvB,eAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAC1B,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC;AAPD,sCAOC;AAED,SAAgB,aAAa,CAAI,WAAuB;IACtD,OAAO,SAAS,KAAK,CAAC,MAAqB;QACzC,OAAO,YAAK,CAAC,GAAG,EAAE;YAChB,WAAW,EAAE,CAAC;YACd,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAPD,sCAOC;AAED,SAAgB,OAAO,CAAI,QAA4B;IACrD,OAAO,CAAC,MAAqB,EAAE,EAAE,CAAC,SAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAG,CAAC,QAAQ,CAAC,EAAE,qBAAS,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;AACxF,CAAC;AAFD,0BAEC;;;;;;;AC9HD,iC;;;;;;;;;;ACAO,KAAK,UAAU,KAAK,CAAC,QAAgB;IAC1C,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvD,CAAC;AAFD,sBAEC;;;;;;;;;;;ACFD,SAAgB,sBAAsB,CAAC,MAA2B;IAChE,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;SACvB,IAAI,EAAE;SACN,MAAM,CACL,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACb,GAAG,GAAG;QACN,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC;KACnB,CAAC,EACF,EAAE,CACH,CAAC;AACN,CAAC;AAVD,wDAUC;;;;;;;;;;;ACVD,gDAAwC;AAExC,SAAgB,WAAW,CAAC,IAAY;IACtC,OAAO,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;AAC/D,CAAC;AAFD,kCAEC;AAED,SAAgB,QAAQ,CAAC,MAAM;IAC7B,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;IAC1B,OAAO,CAAC,GAAG,GAAG,EAAE;QACd,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;KAC3D;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AARD,4BAQC;AAED,SAAgB,oBAAoB,CAAC,MAAc,EAAE,UAAmB,KAAK;IAC3E,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,MAAM,UAAU,GACd,gEAAgE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChG,MAAM,gBAAgB,GAAG,UAAU,CAAC,MAAM,CAAC;IAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;QAC/B,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,gBAAgB,CAAC,CAAC,CAAC;KAC3E;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AATD,oDASC;AAED,SAAgB,WAAW,CAAC,GAAW;IACrC,OAAO,qBAAK,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,EAAE,CAAC;AAClC,CAAC;AAFD,kCAEC;;;;;;;;;;;AC7BD,uCAAoC;AAS3B,uFATM,SAAM,OASN;AAPf;;GAEG;AACH,SAAgB,cAAc;IAC5B,OAAO,SAAM,EAAE,CAAC;AAClB,CAAC;AAFD,wCAEC;;;;;;;ACPD,iC;;;;;;;;;;ACCA,uDAAyC;AACzC,uDAAsC;AACtC,uDAA0B;AAC1B,uDAA2C;AAC3C,uDAA4B;AAC5B,uDAAmC;AACnC,uDAAkC;AAClC,uDAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACR5B,uDAA+D;AAC/D,qDAA2D;AAG9C,iBAAS,GAAG,EAAE,GAAG,qCAAc,EAAE,GAAG,iCAAY,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJhE,wCAAkC;AAClC,8CAA6C;AAa7C,SAAgB,cAAc,CAAC,GAAW,EAAE,IAA4B;IACtE,IAAI,CAAC,CAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,CAAC,IAAI,CAAC,eAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QAC9D,eAAM,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAClC;IAED,OAAO,KAAK,IAAI,EAAE;QAChB,6CAA6C;QAC7C,IAAI,MAA+B,CAAC;QACpC,IAAI,KAAsC,EAAE,EAY3C;aAAM;YACL,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;QAED,IAAI,CAAC,KAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,GAAE;YACnB,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,6BAA6B,GAAG,EAAE,CAAC,CAAC;aACrD;SACF;QAED,OAAO,kBAAI,CAAC,MAAM,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,CAAC,CAAC;IACpC,CAAC,CAAC;AACJ,CAAC;AAhCD,wCAgCC;;;;;;;;;;;;;;;;;;;;AC9CD,uDAAoC;;;;;;;;;;;ACevB,0BAAkB,GAA6D;IAC1F,GAAG,EAAE,aAAa;IAClB,KAAK,EAAE,IAAI;IACX,UAAU,EAAE,uBAAuB;CACpC,CAAC;AAEW,8BAAsB,GAAoD;IACrF,GAAG,EAAE,SAAS;IACd,KAAK,EAAE,IAAI;IACX,IAAI,EAAE,IAAI;IACV,UAAU,EAAE,6BAA6B;CAC1C,CAAC;AAEW,2BAAmB,GAAoD;IAClF,GAAG,EAAE,YAAY;IACjB,KAAK,EAAE,KAAK;IACZ,IAAI,EAAE,IAAI;IACV,UAAU,EAAE,2BAA2B;CACxC,CAAC;;;;;;;;;;;;ACjCF,wCAA0E;AAC1E,wCAAwD;AAExD,8CAA0D;AAC1D,+CAA4C;AAG/B,cAAM,GAAiC;IAClD,GAAG,yBAAW;IAEd,EAAE,EAAE,UAAU;IACd,OAAO,EAAE,yBAAW;IACpB,IAAI,EAAE,IAAI;IAEV,UAAU,EAAE,uBAAc,CAAC,sBAAsB,CAAC;IAElD,KAAK,EAAE;QACL,GAAG,yBAAiB;KACrB;IAED,UAAU,EAAE,0BAAW,CAAC,aAAa,EAAE;QACrC,QAAQ,EAAE,IAAI;KACf,CAAC,mCAAI,cAAc;IAEpB,wBAAwB;IACxB,WAAW,EAAE,uBAAc,CAAC,cAAc,CAAC;CAC5C,CAAC;;;;;;;;;;;;;AC1BF,wCAA+D;AAC/D,wCAA+B;AAC/B,4CAA4F;AAC5F,+DAAqF;AACrF,+DAAmF;AAkBnF,IAAa,WAAW,mBAAxB,MAAa,WAAW;IAEtB,MAAM,CAAC,OAAO,CAAC,OAAqC;QAClD,OAAO,GAAG,cAAK,CAAC,qCAAyB,EAAE,OAAO,CAAC,CAAC;QAEpD,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,EAAE;YAC7B,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;SACxD;QAEA,OAAO,CAAC,KAAa,CAAC,cAAc,GAAG,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,qBAAqB,CAAC;QAE1F,IAAI,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,EAAE;YACnC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC;SACnD;QAED,OAAO;YACL,MAAM,EAAE,aAAW;YACnB,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,gCAAoB;oBAC7B,QAAQ,EAAE,OAAO;iBAClB;aACF;YACD,OAAO,EAAE,CAAC,gCAAoB,CAAC;SAChC,CAAC;IACJ,CAAC;CACF;AA1BY,WAAW;IAfvB,eAAM,EAAE;IACR,eAAM,CAAC;QACN,SAAS,EAAE;YACT;gBACE,OAAO,EAAE,wBAAY;gBACrB,MAAM,EAAE,CAAC,gCAAoB,CAAC;gBAC9B,UAAU,EAAE,wDAAyB;aACtC;YACD,uDAAwB;SACzB;QACD,OAAO,EAAE;YACP,wBAAY;YACZ,uDAAwB;SACzB;KACF,CAAC;GACW,WAAW,CA0BvB;AA1BY,kCAAW;;;;;;;;;;;ACtBxB,sCAAiC;AAGjC,SAAgB,yBAAyB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAsB;IAC9E,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC5B,CAAC;AAFD,8DAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLD,wCAA0D;AAG7C,yBAAiB,GAA8B;IAC1D,IAAI,EAAE,oBAAW,CAAC,YAAY,CAAC;IAC/B,IAAI,EAAE,0BAAW,CAAC,YAAY,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,mCAAI,IAAI;CAC9D,CAAC;;;;;;;;;;;ACNF,wCAAuE;AAE1D,mBAAW,GAAG;IACzB,GAAG,+BAAsB;IAEzB,gBAAgB,EAAE,uBAAc,CAAC,8BAA8B,CAAC;CACjE,CAAC;;;;;;;;;;;ACNW,mBAAW,GAAG,KAAK,CAAC;;;;;;;;;;ACAjC,wCAAuC;AAEvC,wCAAuE;AACvE,wCAA2C;AAE3C,yCAA8D;AAC9D,yBAAa;AACb,uCAA4B;AAC5B,8CAA6C;AAG7C,MAAM,iBAAiB,GAAG,EAAE,CAAC;AAC7B,MAAM,WAAW,GAAoB;IACnC,IAAI,uBAAc,CAAC;QACjB,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,IAAI;QACf,gBAAgB,EAAE;YAChB,wBAAwB,EAAE,IAAI;SAC/B;KACF,CAAC;CACH,CAAC;AACF,MAAM,mBAAmB,GAAG;IAC1B,eAAM,CAAC,IAAI,EAAkB,CAAC,EAAE;CACjC,CAAC;AAEF,KAAK,UAAU,SAAS;IACtB,cAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAC3C,MAAM,KAAK,GAAG,aAAK,CAAC,eAAM,CAAC,IAAI,EAAkB,CAAC,EAAE,CAAC,CAAC;IAEtD,MAAM,GAAG,GAAG,MAAM,kBAAW,CAAC,MAAM,CAAyB,sBAAS,CAAC,CAAC;IACxE,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IAC5B,GAAG,CAAC,UAAU,EAAE,CAAC;IAEjB,8BAA8B;IAC9B,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;QAChC,GAAG,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;KAC5B;IAED,wBAAwB;IACxB,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;QACpC,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;KAChC;IAED,GAAG,CAAC,eAAe,CAAC,WAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;IAE/C,MAAM,GAAG,CAAC,MAAM,CAAC,eAAM,CAAC,IAAI,EAAkB,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9E,eAAM,CAAC,GAAG,CAAC,GAAG,eAAM,CAAC,IAAI,EAAkB,CAAC,EAAE,uBAAuB,eAAM,CAAC,IAAI,EAAkB,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7G,CAAC;AAED,KAAK,SAAS,EAAE,CAAC;;;;;;;ACjDjB,yC;;;;;;ACAA,kC;;;;;;ACAA,gC;;;;;;;;;;;ACAA,wCAAwC;AACxC,2CAAkD;AAClD,kDAA6D;AAC7D,+CAAwD;AACxD,iDAA8D;AAC9D,yDAAwF;AAexF,IAAa,SAAS,GAAtB,MAAa,SAAS;CAAG;AAAZ,SAAS;IAZrB,eAAM,CAAC;QACN,OAAO,EAAE;YACP,yBAAc,CAAC,OAAO,EAAE;YACxB,wBAAU;YACV,4BAAY;YACZ,6CAAoB;SACrB;QACD,WAAW,EAAE;YACX,8BAAa;SACd;QACD,SAAS,EAAE,EAAE;KACd,CAAC;GACW,SAAS,CAAG;AAAZ,8BAAS;;;;;;;;;;;;ACpBtB,wCAAiD;AAIjD,IAAa,aAAa,GAA1B,MAAa,aAAa;IAGxB,SAAS;QACP,OAAO;YACL,MAAM,EAAE,KAAK;SACd,CAAC;IACJ,CAAC;CAEF;AANC;IADC,YAAG,EAAE;;;;8CAKL;AAPU,aAAa;IADzB,mBAAU,EAAE;GACA,aAAa,CASzB;AATY,sCAAa;;;;;;;;;;;;ACJ1B,wCAAgD;AAChD,gDAAqD;AACrD,4CAAsC;AACtC,kDAA2D;AAa3D,IAAa,UAAU,GAAvB,MAAa,UAAU;CAAG;AAAb,UAAU;IAXtB,eAAM,EAAE;IACR,eAAM,CAAC;QACN,SAAS,EAAE;YACT,GAAG,mBAAQ;YACX,2BAAW;SACZ;QACD,OAAO,EAAE;YACP,2BAAW;YACX,+BAAa;SACd;KACF,CAAC;GACW,UAAU,CAAG;AAAb,gCAAU;;;;;;;;;;;AChBvB,kDAAkD;AAErC,gBAAQ,GAAG;IACtB,+BAAa;CACd,CAAC;;;;;;;;;;;;ACJF,wCAAwC;AACxC,yDAAiF;AACjF,+CAA4C;AAC5C,4CAAsC;AACtC,wDAAuE;AAiBvE,IAAa,YAAY,GAAzB,MAAa,YAAY;CAAG;AAAf,YAAY;IAdxB,eAAM,CAAC;QACN,OAAO,EAAE;YACP,6CAAoB;SACrB;QACD,WAAW,EAAE;YACX,GAAG,yBAAW;SACf;QACD,SAAS,EAAE;YACT,GAAG,mBAAQ;SACZ;QACD,OAAO,EAAE;YACP,2CAAmB;SACpB;KACF,CAAC;GACW,YAAY,CAAG;AAAf,oCAAY;;;;;;;;;;;ACrBzB,gEAA4E;AAE/D,mBAAW,GAAG;IACzB,yDAA0B;CAC3B,CAAC;;;;;;;;;;;;;ACJF,wCAAwE;AACxE,gDAA8D;AAC9D,gEAAkF;AAClF,yDAA4E;AAG5E,sFAAsF;AAEtF,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IAErC,YACmB,qBAA4C;QAA5C,0BAAqB,GAArB,qBAAqB,CAAuB;IAC5D,CAAC;IAGJ,KAAK,CAAC,kBAAkB;QACtB,OAAO,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,EAAE,CAAC;IACzD,CAAC;IAID,mBAAmB,CAAS,KAAiC;QAC3D,OAAO,IAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAC/D,CAAC;CAEF;AAVC;IADC,YAAG,EAAE;;;;oEAGL;AAID;IAFC,aAAI,EAAE;IACN,kBAAS,CAAC,2BAAW,CAAC;IACF,gCAAI,EAAE;;iEAAQ,0DAA0B,oBAA1B,0DAA0B;;qEAE5D;AAfU,0BAA0B;IADtC,mBAAU,CAAC,mBAAmB,CAAC;iEAIY,+CAAqB,oBAArB,+CAAqB;GAHpD,0BAA0B,CAiBtC;AAjBY,gEAA0B;;;;;;;;;;;ACRvC,wDAAkD;AAClD,wDAAoC;AACpC,wDAAsC;AACtC,wDAAqC;;;;;;;;;;;ACHrC,IAAY,wBAMX;AAND,WAAY,wBAAwB;IAClC,+CAAmB;IACnB,+CAAmB;IACnB,uEAA2C;IAC3C,6CAAiB;IACjB,mDAAuB;AACzB,CAAC,EANW,wBAAwB,GAAxB,gCAAwB,KAAxB,gCAAwB,QAMnC;;;;;;;;;;;ACND,IAAY,WAIX;AAJD,WAAY,WAAW;IACrB,8BAAe;IACf,8BAAe;IACf,8BAAe;AACjB,CAAC,EAJW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAItB;;;;;;;;;;;ACJD,IAAY,aAIX;AAJD,WAAY,aAAa;IACvB,4CAA2B;IAC3B,4CAA2B;IAC3B,8BAAa;AACf,CAAC,EAJW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAIxB;;;;;;;;;;;ACJD,IAAY,YAIX;AAJD,WAAY,YAAY;IACtB,uDAAuC;IACvC,yDAAyC;IACzC,qDAAqC;AACvC,CAAC,EAJW,YAAY,GAAZ,oBAAY,KAAZ,oBAAY,QAIvB;;;;;;;;;;;ACJD,wDAAkC;AAClC,wDAAsC;AACtC,wDAA0B;AAC1B,wDAAwC;AACxC,wDAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJvC,0C;;;;;;ACAA,iC;;;;;;ACAA,qC;;;;;;ACAA,oC;;;;;;ACAA,oD;;;;;;ACAA,wC;;;;;;ACAA,oC;;;;;;;;;;ACAA,iDAA+E;AAE/E,SAAgB,WAAW,CAAC,iBAAqC;IAC/D,wDAAwD;IACxD,OAAO,UAAU,MAAc,EAAE,YAAoB;QACnD,mCAAiB,CAAC;YAChB,IAAI,EAAE,aAAa;YACnB,MAAM,EAAE,MAAM,CAAC,WAAW;YAC1B,YAAY;YACZ,WAAW,EAAE,EAAE;YACf,OAAO,EAAE,iBAAiB;YAC1B,SAAS,EAAE;gBACT,QAAQ,CAAC,KAAU;oBACjB,OAAO,KAAK,KAAK,QAAQ,IAAI,wBAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACrD,CAAC;aACF;SACF,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAhBD,kCAgBC;;;;;;;;;;;AClBD,iDAA4F;AAE5F,SAAgB,aAAa,CAAC,EAAgB,EAAE,iBAAqC;IACnF,wDAAwD;IACxD,OAAO,UAAU,MAAc,EAAE,YAAoB;QACnD,mCAAiB,CAAC;YAChB,IAAI,EAAE,eAAe;YACrB,MAAM,EAAE,MAAM,CAAC,WAAW;YAC1B,YAAY;YACZ,WAAW,EAAE,CAAC,EAAE,CAAC;YACjB,OAAO,EAAE,iBAAiB;YAC1B,SAAS,EAAE;gBACT,QAAQ,CAAC,KAAU,EAAE,IAAyB;oBAC5C,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC;oBAEvC,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;wBAChC,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAC;qBACvE;oBAED,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,GAAG,QAAQ,CAAC;gBACvD,CAAC;aACF;SACF,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAtBD,sCAsBC;;;;;;;;;;;ACxBD,gDAAiD;AACjD,8CAA2C;AAC3C,sDAA0D;AAC1D,yDAAkE;AAErD,gBAAQ,GAAG;IACtB,+CAAqB;IACrB,uCAAiB;IACjB,wBAAU;IACV,8BAAa;CACd,CAAC;;;;;;;;;;;ACVF,qDAAuD;AAE1C,mBAAW,GAAG;IACzB,oCAAgB;CACjB,CAAC;;;;;;;;;;;;;ACJF,wCAA4D;AAC5D,gDAA8D;AAC9D,wDAA0E;AAC1E,wDAAwE;AAIxE,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAE3B,YACmB,mBAAwC,EACxC,oBAA0C;QAD1C,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,yBAAoB,GAApB,oBAAoB,CAAsB;IAC1D,CAAC;IAGJ,eAAe;QACb,OAAO,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;IACpD,CAAC;IAID,gBAAgB;QACd,OAAO,IAAI,CAAC,oBAAoB,CAAC,oBAAoB,EAAE,CAAC;IAC1D,CAAC;CAEF;AAVC;IADC,YAAG,CAAC,QAAQ,CAAC;;;;uDAGb;AAID;IAFC,YAAG,CAAC,gBAAgB,CAAC;IACrB,kBAAS,CAAC,2BAAW,CAAC;;;;wDAGtB;AAhBU,gBAAgB;IAD5B,mBAAU,EAAE;iEAI6B,2CAAmB,oBAAnB,2CAAmB,oDAClB,6CAAoB,oBAApB,6CAAoB;GAJlD,gBAAgB,CAkB5B;AAlBY,4CAAgB;;;;;;;ACP7B,kC;;;;;;;;;;ACAA,gDAA6C;AAC7C,wDAAgE;AAChE,wDAA8D;AAEjD,gBAAQ,GAAG;IACtB,0BAAW;IACX,6CAAoB;IACpB,2CAAmB;CACpB,CAAC;;;;;;;;;;;;;ACRF,wCAA4C;AAC5C,2CAAwC;AACxC,wDAAgE;AAGhE,IAAa,WAAW,GAAxB,MAAa,WAAW;IAEtB,YACmB,oBAA0C;QAA1C,yBAAoB,GAApB,oBAAoB,CAAsB;IAC1D,CAAC;IAKJ,KAAK,CAAC,cAAc;QAClB,MAAM,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,EAAE,CAAC;IAC5D,CAAC;CAEF;AAJC;IAHC,eAAI,CAAC,gBAAgB,EAAE;QACtB,IAAI,EAAE,gBAAgB;KACvB,CAAC;;;;iDAGD;AAXU,WAAW;IADvB,mBAAU,EAAE;iEAI8B,6CAAoB,oBAApB,6CAAoB;GAHlD,WAAW,CAavB;AAbY,kCAAW","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n","module.exports = require(\"tslib\");","module.exports = require(\"@nestjs/common\");","export * from './lib/config';\r\nexport * from './lib/enum/env.enum';\r\nexport * from './lib/get-config';\r\nexport * from './lib/retrieve-env';\r\nexport * from './lib/retrieve-secret';\r\nexport * from './lib/types';\r\nexport * from './presets';\r\n\r\n\r\n","module.exports = require(\"lodash\");","import { RedisClientHelperService, REDIS_CLIENT } from '@i40mp/nestjs/redis';\r\nimport { ReleaseInstruction, ReleaseInstructionStatus, ReleaseInstructionWithStatus, ReleaseType } from '@i40mp/types/doghouse';\r\nimport { Inject, Injectable, Logger } from '@nestjs/common';\r\nimport { plainToClass } from 'class-transformer';\r\nimport { validateSync } from 'class-validator';\r\nimport { Redis } from 'ioredis';\r\nimport { ReleaseInstructionWithStatusDTO } from '../dto/release-instruction-input.dto';\r\nimport { DeployService } from './deploy.service';\r\n\r\n\r\nconst RK_SCHEDULED_RELEASE = 'scheduled-release';\r\n\r\n@Injectable()\r\nexport class ReleaseManagerService {\r\n\r\n  static MAX_TO_BE_DEPLOYED_AT_OFFSET_IN_MS = 14 * 24 * 60 * 60 * 1000; // 2 weeks\r\n  static MAX_RELEASE_DURATION_IN_MS_BY_TYPE = {\r\n    [ReleaseType.MAJOR]: 8 * 60 * 1000, // 8 minutes\r\n    [ReleaseType.MINOR]: 4 * 60 * 1000, // 4 minutes\r\n    [ReleaseType.PATCH]: 2 * 60 * 1000, // 2 minutes\r\n  }\r\n  static STALLED_RELEASE_GRACE_PERIOD = 1.5 * 60 * 1000; // 2 minutes\r\n\r\n  static getReleaseTimeoutTimeByType(type: ReleaseType): number {\r\n    return ReleaseManagerService.MAX_RELEASE_DURATION_IN_MS_BY_TYPE[type] + ReleaseManagerService.STALLED_RELEASE_GRACE_PERIOD;\r\n  }\r\n\r\n  constructor(\r\n    @Inject(REDIS_CLIENT) private readonly redis: Redis,\r\n    private readonly redisClientHelperService: RedisClientHelperService,\r\n    private readonly deployService: DeployService,\r\n  ) {}\r\n\r\n  async getUpcomingRelease(): Promise<ReleaseInstructionWithStatus> {\r\n    const instructionRaw = await this.redis.hgetall(RK_SCHEDULED_RELEASE);\r\n\r\n    // non-existent data will be returned as empty object. returns noop instruction\r\n    if (Object.keys(instructionRaw).length === 0) {\r\n      return {\r\n        type: null,\r\n        commit: null,\r\n        toBeDeployedAt: -1,\r\n        attemptedAt: -1,\r\n        status: ReleaseInstructionStatus.SUCCEEDED,\r\n      };\r\n    }\r\n\r\n    const instruction = plainToClass(ReleaseInstructionWithStatusDTO, instructionRaw);\r\n    return this.handleRelease(instruction);\r\n  }\r\n\r\n  async planUpcomingRelease(instruction: ReleaseInstruction): Promise<ReleaseInstructionWithStatus> {\r\n    return this.updateReleaseInstructionOnDb({\r\n      ...instruction,\r\n      attemptedAt: -1,\r\n      status: ReleaseInstructionStatus.PENDING,\r\n    });\r\n  }\r\n\r\n  private async handleRelease(instruction: ReleaseInstructionWithStatusDTO): Promise<ReleaseInstructionWithStatus> {\r\n    instruction = this.validateReleaseInstruction(instruction);\r\n\r\n    switch (instruction.status) {\r\n      case ReleaseInstructionStatus.RELEASE_IN_PROGRESS:\r\n        if (Date.now() > instruction.attemptedAt + ReleaseManagerService.getReleaseTimeoutTimeByType(instruction.type)) {\r\n          instruction = await this.updateReleaseInstructionOnDb({\r\n            ...instruction,\r\n            status: ReleaseInstructionStatus.STALLED,\r\n          });\r\n        }\r\n        break;\r\n      case ReleaseInstructionStatus.PENDING:\r\n        if (instruction.toBeDeployedAt <= Date.now()) {\r\n          const attemptedAt = Date.now();\r\n          instruction = await this.updateReleaseInstructionOnDb({\r\n            ...instruction,\r\n            attemptedAt,\r\n            status: ReleaseInstructionStatus.RELEASE_IN_PROGRESS,\r\n          });\r\n          void this.deployService.deploy(\r\n            instruction.commit,\r\n            ReleaseManagerService.getReleaseTimeoutTimeByType(instruction.type),\r\n          )\r\n            .then(deploymentSuccessful => this.updateReleaseInstructionOnDb({\r\n              ...instruction,\r\n              attemptedAt,\r\n              status: deploymentSuccessful ? ReleaseInstructionStatus.SUCCEEDED : ReleaseInstructionStatus.FAILED,\r\n            }));\r\n\r\n        }\r\n        break;\r\n    }\r\n\r\n    return instruction;\r\n  }\r\n\r\n  private validateReleaseInstruction(instruction: ReleaseInstructionWithStatusDTO): ReleaseInstructionWithStatus {\r\n    instruction = plainToClass(ReleaseInstructionWithStatusDTO, instruction);\r\n\r\n    const errors = validateSync(instruction);\r\n    if (errors.length) {\r\n      Logger.error('Got invalid ReleaseInstruction value from redis', JSON.stringify(errors), `${ReleaseManagerService.name}:getUpcomingRelease`);\r\n      // TODO: report to Github issue\r\n      throw new Error('Invalid ReleaseInstruction');\r\n    }\r\n\r\n    return instruction;\r\n  }\r\n\r\n  private async updateReleaseInstructionOnDb(instruction: ReleaseInstructionWithStatusDTO): Promise<ReleaseInstructionWithStatus> {\r\n    instruction = this.validateReleaseInstruction(instruction);\r\n    await this.redisClientHelperService.setHash(\r\n      RK_SCHEDULED_RELEASE,\r\n      {\r\n        type: instruction.type,\r\n        commit: instruction.commit,\r\n        toBeDeployedAt: instruction.toBeDeployedAt.toString(),\r\n        attemptedAt: instruction.attemptedAt.toString(),\r\n        status: instruction.status,\r\n      },\r\n    );\r\n\r\n    return instruction;\r\n  }\r\n\r\n}\r\n","export * from './lib/enums';\r\nexport * from './lib/types';\r\n\r\n","module.exports = require(\"class-validator\");","import { config } from '@i40mp/config';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { Injectable, Logger } from '@nestjs/common';\r\nimport { exec } from 'child_process';\r\nimport { isNil } from 'lodash';\r\nimport { join } from 'path';\r\nimport { promisify } from 'util';\r\nimport { GitService } from './git.service';\r\nimport { K8sClusterService } from './k8s-cluster.service';\r\n\r\n\r\nconst execPromise = promisify(exec);\r\n\r\n@Injectable()\r\nexport class DeployService {\r\n\r\n  private maintenanceMode = false;\r\n  public env = config.data<DoghouseConfig>().debug ? 'staging' : 'productionX';\r\n\r\n\r\n  constructor(\r\n    private readonly gitService: GitService,\r\n    private readonly k8sClusterService: K8sClusterService,\r\n  ) {}\r\n\r\n  getMaintenanceStatus(): boolean {\r\n    return this.maintenanceMode;\r\n  }\r\n\r\n  setMaintenanceStatus(maintenance: boolean): void {\r\n    this.maintenanceMode = maintenance;\r\n  }\r\n\r\n  async deploy(commitSha: string, timeoutInMs?: number): Promise<boolean> {\r\n    // set maintenance mode\r\n    this.setMaintenanceStatus(true);\r\n\r\n    commitSha ??= 'latest';\r\n    const logger = new Logger(`${DeployService.name}:deploy:${this.env}:${commitSha}`, true);\r\n    const deploymentSpecPath = join(config.data<DoghouseConfig>().sandboxDir, 'deployment.yaml');\r\n    let deploymentStatus = false;\r\n\r\n    try {\r\n      // clone repo\r\n      logger.log('Retrieving deployment manifest...');\r\n      const repo = await this.gitService.clone('https://github.com/i40mc/platform-deploy.git', commitSha);\r\n      const repoPath = repo.workdir();\r\n\r\n      // generate patches\r\n      {\r\n        logger.log('Generating patches...');\r\n        const { stderr } = await execPromise(\r\n          `node ./scripts/generate-patches/bundle/index.js ./deployments/${this.env}`,\r\n          {\r\n            cwd: repoPath,\r\n          },\r\n        );\r\n        if (isNil(stderr)) {\r\n          logger.error(stderr);\r\n          throw new Error('DeploymentError: Failed generating manifest patches');\r\n        }\r\n      }\r\n\r\n      // generate deployment spec\r\n      {\r\n        logger.log('Generating deployment spec...');\r\n        const { stderr } = await execPromise(\r\n          `kustomize build ./deployments/${this.env} > ${deploymentSpecPath}`,\r\n          {\r\n            cwd: repoPath,\r\n          },\r\n        );\r\n        if (isNil(stderr)) {\r\n          logger.error(stderr);\r\n          throw new Error('DeploymentError: Failed generating kubernetes conf');\r\n        }\r\n      }\r\n\r\n      logger.log(`Deploying manifests...`);\r\n\r\n      // deploying manifest\r\n      const updatedObjects = await this.k8sClusterService.apply(deploymentSpecPath);\r\n\r\n      logger.log(`Waiting deployment to complete... ${timeoutInMs}`);\r\n      const updatedDeployments = await this.k8sClusterService.waitUntilDeploymentsComplete(updatedObjects, timeoutInMs);\r\n      deploymentStatus = updatedDeployments.every(s => s.deployed);\r\n\r\n      if (deploymentStatus) {\r\n        logger.log(`Deployment succeeded`);\r\n      } else {\r\n        logger.error(`Deployment failed`, JSON.stringify(updatedDeployments));\r\n      }\r\n    } catch (err) {\r\n      logger.error(`${err.name}:${err.message}`, err.stack);\r\n    } finally {\r\n      this.setMaintenanceStatus(false);\r\n      void this.gitService.cleanupCloneDir();\r\n    }\r\n\r\n    return deploymentStatus;\r\n  }\r\n\r\n}\r\n\r\n","import { Service, ServiceHealth, ServiceStatus } from '@i40mp/types/doghouse';\r\nimport { Injectable, OnModuleInit } from '@nestjs/common';\r\nimport axios, { AxiosInstance } from 'axios';\r\nimport * as pLimit from 'p-limit';\r\nimport { SERVICES } from '../../../consts/services.const';\r\n\r\nconst REQUEST_TIMEOUT_IN_MS = 5000;\r\nconst INERT_REQUEST_THRESHOLD_IN_MS = 1000;\r\nconst CONCURRENT_REQUEST_LIMIT = 10;\r\nconst limit = pLimit(CONCURRENT_REQUEST_LIMIT);\r\ntype ServiceHealthRegistry = Record<string, ServiceHealth>;\r\n\r\n@Injectable()\r\nexport class ServiceHealthService implements OnModuleInit {\r\n\r\n  private registry: ServiceHealthRegistry = {};\r\n  private httpClient: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.httpClient = axios.create({\r\n      timeout: REQUEST_TIMEOUT_IN_MS,\r\n      validateStatus: status => status === 200 || status === 204,\r\n    });\r\n    this.httpClient.interceptors.request.use((config) => {\r\n      config.headers['req-timestamp'] = new Date().getTime();\r\n      return config;\r\n    });\r\n    this.httpClient.interceptors.response.use((response) => {\r\n      const reqTimestamp = response.config.headers['req-timestamp'];\r\n      response.headers['req-duration'] = (new Date().getTime()) - reqTimestamp;\r\n      return response;\r\n    });\r\n  }\r\n\r\n  async onModuleInit() {\r\n    await this.updateAllServicesHealth();\r\n  }\r\n\r\n  private async updateServiceHealth(service: Service): Promise<void> {\r\n    const serviceHealth: ServiceHealth = {\r\n      status: ServiceStatus.DOWN,\r\n      responseTime: -1,\r\n    };\r\n\r\n    try {\r\n      const req = await this.httpClient.get(service.url);\r\n      serviceHealth.responseTime = req.headers['req-duration'];\r\n\r\n      if (serviceHealth.responseTime >= INERT_REQUEST_THRESHOLD_IN_MS) {\r\n        serviceHealth.status = ServiceStatus.DEGRADATION;\r\n      }\r\n\r\n      serviceHealth.status = ServiceStatus.OPERATIONAL;\r\n    } catch (err) {\r\n      serviceHealth.message = err.message;\r\n    }\r\n\r\n    this.registry[service.id] = serviceHealth;\r\n  }\r\n\r\n  async updateAllServicesHealth(): Promise<void> {\r\n    await Promise.all(\r\n      SERVICES.map(service => limit(() => this.updateServiceHealth(service))),\r\n    );\r\n  }\r\n\r\n  getServiceHealth(serviceId: string): ServiceHealth {\r\n    return this.registry[serviceId] ?? null;\r\n  }\r\n\r\n  getAllServicesHealth(): ServiceHealthRegistry {\r\n    return SERVICES.reduce(\r\n      (acc, service) => ({ ...acc, [service.id]: this.registry[service.id]}), {},\r\n    );\r\n  }\r\n\r\n}\r\n","import { merge } from 'lodash';\r\nimport { AppConfig } from '../presets';\r\nimport { enumerateNestedObject } from './helpers/enumerate-nested-config.helper';\r\nimport { ConfigSet } from './types';\r\n\r\nclass Configuration {\r\n  private _data: ConfigSet<unknown> = {};\r\n\r\n  public requiredEnvs: string[] = [];\r\n  public requiredSecrets: string[] = [];\r\n\r\n  // type of SecretClient from @azure/keyvault-secrets. typed as any to remove prod dependency\r\n  public azureVaultClient: unknown;\r\n\r\n  public data<T extends ConfigSet<unknown> = AppConfig>(): T {\r\n    return this._data as T;\r\n  }\r\n\r\n  public async loadConfig(\r\n    newConfig: ConfigSet<unknown>,\r\n    mergeWithCurrentConfig = true\r\n  ) {\r\n    const config = {};\r\n    merge(config, newConfig)\r\n\r\n    await enumerateNestedObject(config, async (dict, key, value) => {\r\n      if (typeof value === 'function') {\r\n        dict[key] = await value();\r\n      }\r\n    });\r\n\r\n    if (mergeWithCurrentConfig) {\r\n      merge(this._data, config);\r\n    } else {\r\n      this._data = config;\r\n    }\r\n  }\r\n}\r\n\r\nexport const config = new Configuration();\r\n","export * from './lib/enums';\r\nexport * from './lib/decorators';\r\nexport * from './lib/enums';\r\nexport * from './lib/exceptions';\r\nexport * from './lib/helpers';\r\nexport * from './lib/types';\r\n\r\n","import { get } from 'lodash';\r\n\r\nexport function deepCopy(obj) {\r\n  if (!obj || typeof obj !== 'object') {\r\n    return obj;\r\n  }\r\n\r\n  const keys = getKeys(obj);\r\n  const retObj = {};\r\n\r\n  for (const attr of keys) {\r\n    const value = obj[attr];\r\n\r\n    switch (true) {\r\n      case (value instanceof Date): {\r\n        const dateCopy = new Date();\r\n        dateCopy.setDate(value.getDate());\r\n        retObj[attr] = dateCopy;\r\n        break;\r\n      }\r\n      case (value instanceof RegExp):\r\n        retObj[attr] = new RegExp(value.source, value.flags);\r\n        break;\r\n      case (value instanceof Array): {\r\n        const arrayCopy = [];\r\n        for (const e of value) {\r\n          arrayCopy.push(deepCopy(e));\r\n        }\r\n        retObj[attr] = arrayCopy;\r\n        break;\r\n      }\r\n      case (value instanceof Object):\r\n        if (!isPlainObject(value)) {\r\n          retObj[attr] = value;\r\n        } else {\r\n          retObj[attr] = deepCopy(value);\r\n        }\r\n        break;\r\n      default:\r\n        retObj[attr] = obj[attr];\r\n    }\r\n  }\r\n  return retObj;\r\n}\r\n\r\nexport function getKeys(target) {\r\n  return [\r\n    ...Object.keys(target),\r\n    ...getEnumerableOwnPropertySymbols(target),\r\n  ];\r\n}\r\n\r\nfunction getEnumerableOwnPropertySymbols(target) {\r\n  return Object.getOwnPropertySymbols ?\r\n    Object.getOwnPropertySymbols(target).filter((symbol) => target.propertyIsEnumerable(symbol)) :\r\n    [];\r\n}\r\n\r\nexport function mergeObjects(target, source) {\r\n  const keys = getKeys(source);\r\n  for (const key of keys) {\r\n    const oldVal = target[key];\r\n    const newVal = source[key];\r\n\r\n    if (isObject(newVal) && isObject(oldVal)) {\r\n      if (!isPlainObject(newVal) || !isPlainObject(oldVal)) {\r\n        target[key] = newVal;\r\n      } else {\r\n        target[key] = mergeObjects(oldVal, newVal);\r\n      }\r\n    } else if (Array.isArray(newVal)) {\r\n      target[key] = newVal;\r\n    } else {\r\n      if (!isPlainObject(newVal)) {\r\n        target[key] = newVal;\r\n      } else {\r\n        target[key] = deepCopy(newVal);\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}\r\n\r\n/**\r\n * Deep merge two objects.\r\n * https://stackoverflow.com/a/34749873\r\n */\r\nexport function mergeDeep(target, ...sources) {\r\n  if (!sources.length) {\r\n    return target;\r\n  }\r\n  const source = sources.shift();\r\n\r\n  if (isObject(target) && isObject(source)) {\r\n    for (const key in source) {\r\n      if (isObject(source[key])) {\r\n        if (!target[key]) {\r\n          Object.assign(target, { [key]: {} });\r\n        }\r\n        mergeDeep(target[key], source[key]);\r\n      } else {\r\n        Object.assign(target, { [key]: source[key] });\r\n      }\r\n    }\r\n  }\r\n\r\n  return mergeDeep(target, ...sources);\r\n}\r\n\r\n// from https://github.com/jonschlinkert/isobject\r\nexport function isObject(val): val is object {\r\n  return !isNil(val) && typeof val === 'object' && Array.isArray(val) === false;\r\n}\r\n\r\n// from https://github.com/jonschlinkert/is-plain-object\r\nfunction isObjectObject(o): o is object {\r\n  return isObject(o) && Object.prototype.toString.call(o) === '[object Object]';\r\n}\r\n\r\nexport function isPlainObject(o): o is object {\r\n  if (isObjectObject(o) === false) {\r\n    return false;\r\n  }\r\n\r\n  // If has modified constructor\r\n  const ctor = o.constructor;\r\n  if (typeof ctor !== 'function') {\r\n    return false;\r\n  }\r\n\r\n  // If has modified prototype\r\n  const prot = ctor.prototype;\r\n  if (isObjectObject(prot) === false) {\r\n    return false;\r\n  }\r\n\r\n  // If constructor does not have an Object-specific method\r\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\r\n    return false;\r\n  }\r\n\r\n  // Most likely a plain Object\r\n  return true;\r\n}\r\n\r\nexport function isUndefined(val: any): val is undefined {\r\n  return typeof val === 'undefined'; // undefined can be overwritten in some environments\r\n}\r\n\r\nexport function isNil(val: any): val is (null | undefined) {\r\n  return isUndefined(val) || val === null;\r\n}\r\n\r\n/**\r\n * mapObject\r\n *\r\n * @param instruction object containing map instruction\r\n * @param source source object\r\n * @param stripNull set true to strip object from null properties\r\n */\r\nexport function mapObject(\r\n  instruction: Record<string, string>,\r\n  source: any,\r\n  stripNull = true,\r\n) {\r\n  const target: any = {};\r\n\r\n  Object.keys(instruction).forEach((key: string) => {\r\n    const value = get(source, instruction[key]) || null;\r\n\r\n    if (stripNull && value == null) {\r\n      return;\r\n    }\r\n\r\n    target[key] = value;\r\n  });\r\n\r\n  return target;\r\n}\r\n","export * from './lib/redis.module';\r\n\r\nexport * from './lib/types/redis-connection-config';\r\nexport * from './lib/types/redis-module-options';\r\n\r\nexport * from './lib/config';\r\nexport * from './lib/config.preset';\r\n\r\nexport * from './lib/services/redis-client-helper.services';\r\n\r\nexport { REDIS_CLIENT } from './lib/constants';\r\n","import { RedisModuleOptions } from './types/redis-module-options';\r\n\r\n/**\r\n * Provider keys\r\n */\r\nexport const REDIS_MODULE_OPTIONS = '@i40mp/redis-nestjs:RedisModuleOptions';\r\nexport const REDIS_CLIENT = '@i40mp/redis-nestjs:RedisClient';\r\n\r\n\r\n/**\r\n * Module default options\r\n */\r\nexport const DEFAULT_REDIS_MODULE_OPTS: Partial<RedisModuleOptions> = {\r\n  serviceId: process.env.APP_ID,\r\n  connectionNamePostfix: '',\r\n};\r\n","module.exports = require(\"ioredis\");","module.exports = require(\"path\");","import { CanActivate, ExecutionContext, Inject, Injectable, UnauthorizedException } from '@nestjs/common';\r\nimport { Observable } from 'rxjs';\r\nimport { APIKeyService } from '../services/api-key.service';\r\n\r\n@Injectable()\r\nexport class APIKeyGuard implements CanActivate {\r\n\r\n  @Inject(APIKeyService)\r\n  private readonly apiKeyService: APIKeyService;\r\n\r\n  canActivate(\r\n    context: ExecutionContext,\r\n  ): boolean | Promise<boolean> | Observable<boolean> {\r\n    const request = context.switchToHttp().getRequest();\r\n\r\n    const authToken: string = request.headers.authorization;\r\n\r\n    if (typeof authToken !== 'string' || authToken.length === 0) {\r\n      throw new UnauthorizedException();\r\n    }\r\n\r\n    const [ tokenType, tokenValue ] = authToken.split(' ');\r\n\r\n    if (tokenType !== 'Bearer' || typeof tokenValue !== 'string') {\r\n      throw new UnauthorizedException('Invalid authorization provided');\r\n    }\r\n\r\n    if (!this.apiKeyService.validateAPIKey(tokenValue)) {\r\n      throw new UnauthorizedException();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { config } from '@i40mp/config';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { Injectable, OnModuleInit } from '@nestjs/common';\r\n\r\n\r\n@Injectable()\r\nexport class APIKeyService implements OnModuleInit {\r\n\r\n  private activeAPIKeys: string[] = []\r\n\r\n  onModuleInit() {\r\n    const apiKeysSemicolonSeparated = config.data<DoghouseConfig>().secretKeys;\r\n\r\n    if (typeof apiKeysSemicolonSeparated !== 'string' || apiKeysSemicolonSeparated.length === 0) {\r\n      throw new Error('Invalid secretKeys loaded!');\r\n    }\r\n\r\n    this.activeAPIKeys = apiKeysSemicolonSeparated.split(';');\r\n  }\r\n\r\n  validateAPIKey(key: string): boolean {\r\n    return this.activeAPIKeys.includes(key);\r\n  }\r\n\r\n}\r\n","import { ReleaseInstructionStatus, ServiceStatus, SystemHealthStatus, SystemStatus } from '@i40mp/types/doghouse';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { SERVICES } from '../../../consts/services.const';\r\nimport { DeployService } from '../../release-manager/services/deploy.service';\r\nimport { ReleaseManagerService } from '../../release-manager/services/release-manager.service';\r\nimport { ServiceHealthService } from './service-health.service';\r\n\r\n\r\n@Injectable()\r\nexport class SystemHealthService {\r\n\r\n\r\n  constructor(\r\n    private readonly serviceStatusService: ServiceHealthService,\r\n    private readonly releaseManagerService: ReleaseManagerService,\r\n    private readonly deployService: DeployService,\r\n  ) {}\r\n\r\n  async getSystemHealth(): Promise<SystemHealthStatus> {\r\n    let status: SystemStatus = SystemStatus.FULLY_OPERATIONAL;\r\n\r\n    for (const service of SERVICES) {\r\n      // skip further check when the overall status already considered to be significantly disrupted\r\n      if (status === SystemStatus.MAJOR_DISRUPTION) {\r\n        break;\r\n      }\r\n\r\n      const serviceHealth = this.serviceStatusService.getServiceHealth(service.id);\r\n\r\n      switch (serviceHealth.status) {\r\n        case ServiceStatus.DEGRADATION:\r\n          status = SystemStatus.PARTIAL_DISRUPTION;\r\n          break;\r\n        case ServiceStatus.DOWN:\r\n          status = service.coreService\r\n            ? SystemStatus.MAJOR_DISRUPTION\r\n            : SystemStatus.PARTIAL_DISRUPTION;\r\n          break;\r\n      }\r\n    }\r\n\r\n    const maintenanceSchedule = await this.releaseManagerService.getUpcomingRelease();\r\n\r\n    return {\r\n      status,\r\n      maintenanceMode: this.deployService.getMaintenanceStatus(),\r\n      nextMaintenanceAt: maintenanceSchedule.status === ReleaseInstructionStatus.PENDING\r\n        ? maintenanceSchedule.toBeDeployedAt\r\n        : null,\r\n    };\r\n  }\r\n\r\n}\r\n","import { isNil } from '@i40mp/common';\r\nimport { ConfigValue } from '../types';\r\n\r\nexport function cast(\r\n  value: ConfigValue,\r\n  targetType: 'string' | 'number' | 'boolean' = 'string',\r\n) {\r\n  if (isNil(value)) {\r\n    return value;\r\n  }\r\n  const valueAsString = typeof value !== 'string' ? JSON.stringify(value) : value;\r\n\r\n  switch (targetType) {\r\n    case 'boolean': {\r\n      const lowerCaseValue = valueAsString.toLowerCase();\r\n      return lowerCaseValue === 'true' || lowerCaseValue === 't' || lowerCaseValue === '1' || lowerCaseValue === 'on';\r\n    }\r\n    case 'number':\r\n      return parseFloat(valueAsString);\r\n    case 'string':\r\n    default:\r\n      return valueAsString;\r\n  }\r\n}\r\n","export * from './assessment-type.enum';\r\nexport * from './country-code.enum';\r\nexport * from './employee-count.enum';\r\nexport * from './i40mi-principle.enum';\r\nexport * from './i40mp-service.enum';\r\nexport * from './industry.enum';\r\nexport * from './industry-type.enum';\r\nexport * from './language-code.enum';\r\nexport * from './language-name.enum';\r\nexport * from './maturity-level-bit.enum';\r\nexport * from './maturity-level-name.enum';\r\nexport * from './maturity-level-value.enum';\r\nexport * from './operation.enum';\r\nexport * from './question-entity-metadatum-type.enum';\r\nexport * from './question-entity-update-type.enum';\r\nexport * from './role.enum';\r\nexport * from './smi-principle.enum';\r\nexport * from './supply-chain-position.enum';\r\n","export enum I40MIPrinciple {\r\n  INTEGRATION_OF_IT_SYSTEMS = 'INTEGRATION_OF_IT_SYSTEMS',\r\n  INFORMATION_PROCESSING = 'INFORMATION_PROCESSING',\r\n  DIGITAL_CAPABILITY = 'DIGITAL_CAPABILITY',\r\n  STRUCTURED_COMMUNICATION = 'STRUCTURED_COMMUNICATION',\r\n  ORGANIC_INTERNAL_ORGANIZATION = 'ORGANIC_INTERNAL_ORGANIZATION',\r\n  DYNAMIC_COLLABORATION_IN_VALUE_NETWORKS = 'DYNAMIC_COLLABORATION_IN_VALUE_NETWORKS',\r\n  SOCIAL_COLLABORATION = 'SOCIAL_COLLABORATION',\r\n  WILLINGNESS_TO_CHANGE = 'WILLINGNESS_TO_CHANGE'\r\n}\r\n","export enum SMIPrinciple {\r\n  CUSTOMER = 'CUSTOMER',\r\n  RESOURCES = 'RESOURCES',\r\n  PROCESS_DIGITALIZATION = 'PROCESS_DIGITALIZATION',\r\n  CULTURE = 'CULTURE',\r\n}\r\n","module.exports = require(\"rxjs/operators\");","import { Inject, Injectable } from '@nestjs/common';\r\nimport { Redis } from 'ioredis';\r\nimport { REDIS_CLIENT } from '../constants';\r\n\r\n\r\n@Injectable()\r\nexport class RedisClientHelperService {\r\n\r\n  constructor(\r\n    @Inject(REDIS_CLIENT) private readonly redis: Redis,\r\n  ) {}\r\n\r\n  async setHash(key: string, data: Record<string, string>): Promise<'OK'> {\r\n    return this.redis.hmset(\r\n      key,\r\n      ...Object.keys(data)\r\n        .map(key => [ key, data[key] ])\r\n        .reduce((acc, val) => [...acc, ...val]),\r\n    );\r\n  }\r\n\r\n}\r\n","module.exports = require(\"@nestjs/schedule\");","import { config } from '@i40mp/config';\r\nimport { RedisModule } from '@i40mp/nestjs/redis';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { Module } from '@nestjs/common';\r\nimport { CONTROLLERS } from './controllers';\r\nimport { SERVICES } from './services';\r\nimport { DeployService } from './services/deploy.service';\r\nimport { ReleaseManagerService } from './services/release-manager.service';\r\n\r\n\r\n@Module({\r\n  imports: [\r\n    RedisModule.forRoot({\r\n      serviceId: config.data<DoghouseConfig>().id,\r\n      redis: config.data<DoghouseConfig>().redis,\r\n    }),\r\n  ],\r\n  controllers: [\r\n    ...CONTROLLERS,\r\n  ],\r\n  providers: [\r\n    ...SERVICES,\r\n  ],\r\n  exports: [\r\n    ReleaseManagerService,\r\n    DeployService,\r\n  ],\r\n})\r\nexport class ReleaseManagerModule {}\r\n","/* eslint-disable max-classes-per-file */\r\nimport { ReleaseInstruction, ReleaseInstructionStatus, ReleaseInstructionWithStatus, ReleaseType } from '@i40mp/types/doghouse';\r\nimport { Type } from 'class-transformer';\r\nimport { IsIn, IsNumber, Min } from 'class-validator';\r\nimport { ReleaseManagerService } from '../services/release-manager.service';\r\nimport { IsCommitRef } from '../validators/is-commit-ref.validator';\r\nimport { IsSmallerThan } from '../validators/is-smaller-than.validator';\r\n\r\n\r\nexport class ReleaseInstructionInputDTO implements ReleaseInstruction {\r\n\r\n  @IsIn([\r\n    ReleaseType.MAJOR,\r\n    ReleaseType.MINOR,\r\n    ReleaseType.PATCH,\r\n  ])\r\n  type: ReleaseType;\r\n\r\n  @IsCommitRef()\r\n  commit: string;\r\n\r\n  @Type(() => Number)\r\n  @IsNumber()\r\n  @Min(0)\r\n  @IsSmallerThan(() => Date.now() + ReleaseManagerService.MAX_TO_BE_DEPLOYED_AT_OFFSET_IN_MS, {\r\n    message: 'a release can only be scheduled 2 weeks ahead maximum',\r\n  })\r\n  toBeDeployedAt: number;\r\n\r\n}\r\n\r\nexport class ReleaseInstructionWithStatusDTO extends ReleaseInstructionInputDTO implements ReleaseInstructionWithStatus {\r\n\r\n  @Type(() => Number)\r\n  @IsNumber()\r\n  attemptedAt: number;\r\n\r\n  @IsIn([\r\n    ReleaseInstructionStatus.PENDING,\r\n    ReleaseInstructionStatus.RELEASE_IN_PROGRESS,\r\n    ReleaseInstructionStatus.FAILED,\r\n    ReleaseInstructionStatus.SUCCEEDED,\r\n  ])\r\n  status: ReleaseInstructionStatus;\r\n\r\n}\r\n\r\n","module.exports = require(\"class-transformer\");","import { isNil } from '@i40mp/common';\r\nimport { config } from '@i40mp/config';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { remove } from 'fs-extra';\r\nimport * as git from 'nodegit';\r\nimport { join } from 'path';\r\n\r\n\r\n@Injectable()\r\nexport class GitService {\r\n\r\n  cloneDir = join(\r\n    config.data<DoghouseConfig>().sandboxDir,\r\n    'repo',\r\n  );\r\n\r\n  private readonly cloneOpts = {\r\n    fetchOpts: {\r\n      callbacks: {\r\n        credentials() {\r\n          return git.Cred.userpassPlaintextNew(config.data<DoghouseConfig>().githubToken, 'x-oauth-basic');\r\n        },\r\n        certificateCheck() {\r\n          return 0;\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  async clone(repoUrl: string, commitSha?: string): Promise<git.Repository> {\r\n    // cleanup clone dir\r\n    await this.cleanupCloneDir();\r\n\r\n    const repo = await git.Clone.clone(repoUrl, this.cloneDir, this.cloneOpts);\r\n\r\n    if (!isNil(commitSha) && commitSha !== 'latest') {\r\n      const commitRef = await repo.getCommit(commitSha);\r\n      await git.Checkout.tree(repo, commitRef);\r\n    }\r\n\r\n    return repo;\r\n  }\r\n\r\n  async cleanupCloneDir(): Promise<void> {\r\n    await remove(this.cloneDir);\r\n  }\r\n\r\n}\r\n\r\n","import { sleep } from '@i40mp/common';\r\nimport { config } from '@i40mp/config';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport * as k8s from '@kubernetes/client-node';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { readFile } from 'fs/promises';\r\nimport * as yaml from 'js-yaml';\r\nimport * as pLimit from 'p-limit';\r\n\r\n\r\nconst CONCURRENT_REQUEST_LIMIT = 12;\r\nconst limit = pLimit(CONCURRENT_REQUEST_LIMIT);\r\n\r\n@Injectable()\r\nexport class K8sClusterService {\r\n\r\n  private readonly clientObjectApi: k8s.KubernetesObjectApi;\r\n  private readonly clientAppsV1Api: k8s.AppsV1Api;\r\n\r\n  constructor() {\r\n    // load k8s config\r\n    const k8sConfig = new k8s.KubeConfig();\r\n    k8sConfig.loadFromString(config.data<DoghouseConfig>().k8sClusterConfig);\r\n\r\n    // init clients\r\n    this.clientAppsV1Api = k8sConfig.makeApiClient(k8s.AppsV1Api);\r\n    this.clientObjectApi = k8s.KubernetesObjectApi.makeApiClient(k8sConfig);\r\n  }\r\n\r\n  async apply(specPath: string): Promise<k8s.KubernetesObject[]> {\r\n    const specString = await readFile(specPath, 'utf8');\r\n    const specs: k8s.KubernetesObject[] = yaml\r\n      .loadAll(specString)\r\n      .filter((s: k8s.KubernetesObject) => s && s.kind && s.metadata);\r\n\r\n    const created: k8s.KubernetesObject[] = [];\r\n    for (const spec of specs) {\r\n        // this is to convince the old version of TypeScript that metadata exists\r\n        // even though we already filtered specs without metadata out\r\n      spec.metadata = spec.metadata || {};\r\n      spec.metadata.annotations = spec.metadata.annotations || {};\r\n      delete spec.metadata.annotations['kubectl.kubernetes.io/last-applied-configuration'];\r\n      spec.metadata.annotations['kubectl.kubernetes.io/last-applied-configuration'] = JSON.stringify(spec);\r\n\r\n      try {\r\n        // patch if exists\r\n        await this.clientObjectApi.read(spec);\r\n        const response = await this.clientObjectApi.patch(spec);\r\n        created.push(response.body);\r\n      } catch (e) {\r\n        // create if doesn't exist\r\n        const response = await this.clientObjectApi.create(spec);\r\n        created.push(response.body);\r\n      }\r\n    }\r\n\r\n    return created;\r\n  }\r\n\r\n  async waitUntilDeploymentsComplete(\r\n    object: k8s.KubernetesObject[],\r\n    timeoutInMs: number = 240000, // 4 minutes\r\n  ): Promise<{\r\n    namespace: string;\r\n    kind: string;\r\n    name: string;\r\n    deployed: boolean;\r\n  }[]> {\r\n    const pollIntervalInMs = 300;\r\n    const timeoutAt = (new Date()).getTime() + timeoutInMs;\r\n    const deployments = object.filter(o => o.kind === 'Deployment');\r\n\r\n    let deploymentToBeWatched: [namespace: string, name: string][] = deployments.map(d => [d.metadata.namespace, d.metadata.name]);\r\n\r\n    while (deploymentToBeWatched.length && Date.now() <= timeoutAt) {\r\n      const deploymentToBeWatchedInTheNextCycle: typeof deploymentToBeWatched = [];\r\n\r\n      await Promise.all(\r\n        deploymentToBeWatched.map(\r\n          d => limit(() =>\r\n            this.isDeploymentComplete(d[0], d[1]).then(status => {\r\n              if (!status) {\r\n                deploymentToBeWatchedInTheNextCycle.push(d);\r\n              }\r\n            })),\r\n        ),\r\n      );\r\n\r\n      await sleep(pollIntervalInMs);\r\n      deploymentToBeWatched = deploymentToBeWatchedInTheNextCycle;\r\n    }\r\n\r\n    return deployments.map(d => ({\r\n      namespace: d.metadata.namespace,\r\n      kind: d.kind,\r\n      name: d.metadata.name,\r\n      deployed: deploymentToBeWatched.findIndex(el => el[0] === d.metadata.namespace && el[1] === d.metadata.name) < 0,\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Check if deployment has been successfully rolled out\r\n   * ref: https://github.com/kubernetes/kubernetes/blob/74bcefc8b2bf88a2f5816336999b524cc48cf6c0/pkg/controller/deployment/util/deployment_util.go#L745\r\n   *\r\n   */\r\n  async isDeploymentComplete(namespace: string, name: string): Promise<boolean> {\r\n    const { body: deployment } = await this.clientAppsV1Api.readNamespacedDeploymentStatus(\r\n      name,\r\n      namespace,\r\n    );\r\n    return deployment.status.updatedReplicas === deployment.spec.replicas\r\n      && deployment.status.replicas === deployment.spec.replicas\r\n      && deployment.status.availableReplicas === deployment.spec.replicas\r\n      && deployment.status.observedGeneration >= deployment.metadata.generation;\r\n  }\r\n\r\n}\r\n\r\n","module.exports = require(\"p-limit\");","import { config } from '@i40mp/config';\r\nimport { DoghouseConfig, Service } from '@i40mp/types/doghouse';\r\n\r\n// TODO: when deemed necessary, service list should be excluded from source code and loaded on the fly on app start\r\nexport const SERVICES: Service[] = [\r\n  {\r\n    id: 'instance-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/instance/`,\r\n    coreService: true,\r\n  },\r\n  {\r\n    id: 'assessment-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/assessment`,\r\n    coreService: true,\r\n  },\r\n  {\r\n    id: 'questionnaire-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/questionnaire/`,\r\n    coreService: true,\r\n  },\r\n  {\r\n    id: 'measure-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/measure/`,\r\n    coreService: true,\r\n  },\r\n  {\r\n    id: 'billing-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/billing/`,\r\n  },\r\n  {\r\n    id: 'graphic-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/graphic/`,\r\n  },\r\n  {\r\n    id: 'storage-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/storage/`,\r\n  },\r\n  {\r\n    id: 'ux-service',\r\n    url: `${config.data<DoghouseConfig>().apiBaseUrl}/ux/`,\r\n  },\r\n];\r\n","import { config } from '@i40mp/config';\r\nimport { CONFIG } from './app/app-config';\r\n\r\n(async () => {\r\n  await config.loadConfig(CONFIG);\r\n  require('./main');\r\n})().catch(err => {\r\n  throw err;\r\n});\r\n","import { ConfigSetRaw, ConfigValue, ConfigValueGenerator } from '../types';\r\n\r\nfunction isObject(val: unknown): boolean {\r\n  return val != null && typeof val === 'object' && !Array.isArray(val);\r\n}\r\n\r\nexport async function enumerateNestedObject(\r\n  dict: ConfigSetRaw<unknown>,\r\n  fn: (\r\n    parentDict: ConfigSetRaw<unknown>,\r\n    key: string,\r\n    value: ConfigValue | ConfigValueGenerator) => void | Promise<void>\r\n): Promise<void> {\r\n  if (!isObject(dict)) {\r\n    throw new Error(`Can't enumerate ${dict}`);\r\n  }\r\n\r\n  for (const key in dict) {\r\n    if (Object.prototype.hasOwnProperty.call(dict, key)) {\r\n      const value = dict[key];\r\n      if (isObject(value)) {\r\n        await enumerateNestedObject(value, fn);\r\n      } else {\r\n        await fn(dict, key, value);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { get, has } from 'lodash';\r\nimport { config } from \"./config\";\r\nimport { ConfigValue } from './types';\r\n\r\nexport function getConfig<T extends ConfigValue>(\r\n  key: string,\r\n  optional?: boolean\r\n): T {\r\n  if (!optional && !has(config.data(), key)) {\r\n    throw new Error(`No config found for: ${key}`)\r\n  }\r\n\r\n  return get(config.data(), key) as T;\r\n}\r\n","import { cast } from './helpers/cast.helper';\r\nimport { ConfigRetrievalOption, ConfigValue } from './types';\r\n\r\nexport function retrieveEnv(key: string): string\r\nexport function retrieveEnv(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo?: 'string'\r\n}): string\r\nexport function retrieveEnv(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo: 'number'\r\n}): number\r\nexport function retrieveEnv(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo: 'boolean'\r\n}): boolean\r\nexport function retrieveEnv(key: string, opts?: ConfigRetrievalOption): ConfigValue {\r\n  const value = process.env[key];\r\n\r\n  if (!opts?.optional) {\r\n    if (value === undefined) {\r\n      // TODO: enable later\r\n      // throw new Error(`Failed retrieving env: ${key}`);\r\n    }\r\n  }\r\n\r\n  return cast(value, opts?.castTo);\r\n}\r\n","export enum AssessmentType {\r\n  INDUSTRIE_40_MATURITY = 'INDUSTRIE_40_MATURITY',\r\n  SERVICE_MATURITY = 'SERVICE_MATURITY',\r\n}\r\n","export enum CountryCode {\r\n  AFGHANISTAN = 'AF',\r\n  ALAND_ISLANDS = 'AX',\r\n  ALBANIA = 'AL',\r\n  ALGERIA = 'DZ',\r\n  AMERICAN_SAMOA = 'AS',\r\n  ANDORRA = 'AD',\r\n  ANGOLA = 'AO',\r\n  ANGUILLA = 'AI',\r\n  ANTARCTICA = 'AQ',\r\n  ANTIGUA_AND_BARBUDA = 'AG',\r\n  ARGENTINA = 'AR',\r\n  ARMENIA = 'AM',\r\n  ARUBA = 'AW',\r\n  AUSTRALIA = 'AU',\r\n  AUSTRIA = 'AT',\r\n  AZERBAIJAN = 'AZ',\r\n  BAHAMAS = 'BS',\r\n  BAHRAIN = 'BH',\r\n  BANGLADESH = 'BD',\r\n  BARBADOS = 'BB',\r\n  BELARUS = 'BY',\r\n  BELGIUM = 'BE',\r\n  BELIZE = 'BZ',\r\n  BENIN = 'BJ',\r\n  BERMUDA = 'BM',\r\n  BHUTAN = 'BT',\r\n  BOLIVIA = 'BO',\r\n  BOSNIA_AND_HERZEGOVINA = 'BA',\r\n  BOTSWANA = 'BW',\r\n  BOUVET_ISLAND = 'BV',\r\n  BRAZIL = 'BR',\r\n  BRITISH_INDIAN_OCEAN_TERRITORY = 'IO',\r\n  BRUNEI_DARUSSALAM = 'BN',\r\n  BULGARIA = 'BG',\r\n  BURKINA_FASO = 'BF',\r\n  BURUNDI = 'BI',\r\n  CAMBODIA = 'KH',\r\n  CAMEROON = 'CM',\r\n  CANADA = 'CA',\r\n  CAPE_VERDE = 'CV',\r\n  CAYMAN_ISLANDS = 'KY',\r\n  CENTRAL_AFRICAN_REPUBLIC = 'CF',\r\n  CHAD = 'TD',\r\n  CHILE = 'CL',\r\n  CHINA = 'CN',\r\n  CHRISTMAS_ISLAND = 'CX',\r\n  COCOS_KEELING_ISLANDS = 'CC',\r\n  COLOMBIA = 'CO',\r\n  COMOROS = 'KM',\r\n  CONGO = 'CG',\r\n  CONGO_DEMOCRATIC_REPUBLIC = 'CD',\r\n  COOK_ISLANDS = 'CK',\r\n  COSTA_RICA = 'CR',\r\n  COTE_DIVOIRE = 'CI',\r\n  CROATIA = 'HR',\r\n  CUBA = 'CU',\r\n  CYPRUS = 'CY',\r\n  CZECH_REPUBLIC = 'CZ',\r\n  DENMARK = 'DK',\r\n  DJIBOUTI = 'DJ',\r\n  DOMINICA = 'DM',\r\n  DOMINICAN_REPUBLIC = 'DO',\r\n  ECUADOR = 'EC',\r\n  EGYPT = 'EG',\r\n  EL_SALVADOR = 'SV',\r\n  EQUATORIAL_GUINEA = 'GQ',\r\n  ERITREA = 'ER',\r\n  ESTONIA = 'EE',\r\n  ETHIOPIA = 'ET',\r\n  FALKLAND_ISLANDS = 'FK',\r\n  FAROE_ISLANDS = 'FO',\r\n  FIJI = 'FJ',\r\n  FINLAND = 'FI',\r\n  FRANCE = 'FR',\r\n  FRENCH_GUIANA = 'GF',\r\n  FRENCH_POLYNESIA = 'PF',\r\n  FRENCH_SOUTHERN_TERRITORIES = 'TF',\r\n  GABON = 'GA',\r\n  GAMBIA = 'GM',\r\n  GEORGIA = 'GE',\r\n  GERMANY = 'DE',\r\n  GHANA = 'GH',\r\n  GIBRALTAR = 'GI',\r\n  GREECE = 'GR',\r\n  GREENLAND = 'GL',\r\n  GRENADA = 'GD',\r\n  GUADELOUPE = 'GP',\r\n  GUAM = 'GU',\r\n  GUATEMALA = 'GT',\r\n  GUERNSEY = 'GG',\r\n  GUINEA = 'GN',\r\n  GUINEA_BISSAU = 'GW',\r\n  GUYANA = 'GY',\r\n  HAITI = 'HT',\r\n  HEARD_ISLAND_MCDONALD_ISLANDS = 'HM',\r\n  HOLY_SEE_VATICAN_CITY_STATE = 'VA',\r\n  HONDURAS = 'HN',\r\n  HONG_KONG = 'HK',\r\n  HUNGARY = 'HU',\r\n  ICELAND = 'IS',\r\n  INDIA = 'IN',\r\n  INDONESIA = 'ID',\r\n  IRAN = 'IR',\r\n  IRAQ = 'IQ',\r\n  IRELAND = 'IE',\r\n  ISLE_OF_MAN = 'IM',\r\n  ISRAEL = 'IL',\r\n  ITALY = 'IT',\r\n  JAMAICA = 'JM',\r\n  JAPAN = 'JP',\r\n  JERSEY = 'JE',\r\n  JORDAN = 'JO',\r\n  KAZAKHSTAN = 'KZ',\r\n  KENYA = 'KE',\r\n  KIRIBATI = 'KI',\r\n  KOREA = 'KR',\r\n  KUWAIT = 'KW',\r\n  KYRGYZSTAN = 'KG',\r\n  LAO_PEOPLES_DEMOCRATIC_REPUBLIC = 'LA',\r\n  LATVIA = 'LV',\r\n  LEBANON = 'LB',\r\n  LESOTHO = 'LS',\r\n  LIBERIA = 'LR',\r\n  LIBYAN_ARAB_JAMAHIRIYA = 'LY',\r\n  LIECHTENSTEIN = 'LI',\r\n  LITHUANIA = 'LT',\r\n  LUXEMBOURG = 'LU',\r\n  MACAO = 'MO',\r\n  MACEDONIA = 'MK',\r\n  MADAGASCAR = 'MG',\r\n  MALAWI = 'MW',\r\n  MALAYSIA = 'MY',\r\n  MALDIVES = 'MV',\r\n  MALI = 'ML',\r\n  MALTA = 'MT',\r\n  MARSHALL_ISLANDS = 'MH',\r\n  MARTINIQUE = 'MQ',\r\n  MAURITANIA = 'MR',\r\n  MAURITIUS = 'MU',\r\n  MAYOTTE = 'YT',\r\n  MEXICO = 'MX',\r\n  MICRONESIA = 'FM',\r\n  MOLDOVA = 'MD',\r\n  MONACO = 'MC',\r\n  MONGOLIA = 'MN',\r\n  MONTENEGRO = 'ME',\r\n  MONTSERRAT = 'MS',\r\n  MOROCCO = 'MA',\r\n  MOZAMBIQUE = 'MZ',\r\n  MYANMAR = 'MM',\r\n  NAMIBIA = 'NA',\r\n  NAURU = 'NR',\r\n  NEPAL = 'NP',\r\n  NETHERLANDS = 'NL',\r\n  NETHERLANDS_ANTILLES = 'AN',\r\n  NEW_CALEDONIA = 'NC',\r\n  NEW_ZEALAND = 'NZ',\r\n  NICARAGUA = 'NI',\r\n  NIGER = 'NE',\r\n  NIGERIA = 'NG',\r\n  NIUE = 'NU',\r\n  NORFOLK_ISLAND = 'NF',\r\n  NORTHERN_MARIANA_ISLANDS = 'MP',\r\n  NORWAY = 'NO',\r\n  OMAN = 'OM',\r\n  PAKISTAN = 'PK',\r\n  PALAU = 'PW',\r\n  PALESTINIAN_TERRITORY = 'PS',\r\n  PANAMA = 'PA',\r\n  PAPUA_NEW_GUINEA = 'PG',\r\n  PARAGUAY = 'PY',\r\n  PERU = 'PE',\r\n  PHILIPPINES = 'PH',\r\n  PITCAIRN = 'PN',\r\n  POLAND = 'PL',\r\n  PORTUGAL = 'PT',\r\n  PUERTO_RICO = 'PR',\r\n  QATAR = 'QA',\r\n  REUNION = 'RE',\r\n  ROMANIA = 'RO',\r\n  RUSSIAN_FEDERATION = 'RU',\r\n  RWANDA = 'RW',\r\n  SAINT_BARTHELEMY = 'BL',\r\n  SAINT_HELENA = 'SH',\r\n  SAINT_KITTS_AND_NEVIS = 'KN',\r\n  SAINT_LUCIA = 'LC',\r\n  SAINT_MARTIN = 'MF',\r\n  SAINT_PIERRE_AND_MIQUELON = 'PM',\r\n  SAINT_VINCENT_AND_GRENADINES = 'VC',\r\n  SAMOA = 'WS',\r\n  SAN_MARINO = 'SM',\r\n  SAO_TOME_AND_PRINCIPE = 'ST',\r\n  SAUDI_ARABIA = 'SA',\r\n  SENEGAL = 'SN',\r\n  SERBIA = 'RS',\r\n  SEYCHELLES = 'SC',\r\n  SIERRA_LEONE = 'SL',\r\n  SINGAPORE = 'SG',\r\n  SLOVAKIA = 'SK',\r\n  SLOVENIA = 'SI',\r\n  SOLOMON_ISLANDS = 'SB',\r\n  SOMALIA = 'SO',\r\n  SOUTH_AFRICA = 'ZA',\r\n  SOUTH_GEORGIA_AND_SANDWICH_ISL = 'GS',\r\n  SPAIN = 'ES',\r\n  SRI_LANKA = 'LK',\r\n  SUDAN = 'SD',\r\n  SURINAME = 'SR',\r\n  SVALBARD_AND_JAN_MAYEN = 'SJ',\r\n  SWAZILAND = 'SZ',\r\n  SWEDEN = 'SE',\r\n  SWITZERLAND = 'CH',\r\n  SYRIAN_ARAB_REPUBLIC = 'SY',\r\n  TAIWAN = 'TW',\r\n  TAJIKISTAN = 'TJ',\r\n  TANZANIA = 'TZ',\r\n  THAILAND = 'TH',\r\n  TIMOR_LESTE = 'TL',\r\n  TOGO = 'TG',\r\n  TOKELAU = 'TK',\r\n  TONGA = 'TO',\r\n  TRINIDAD_AND_TOBAGO = 'TT',\r\n  TUNISIA = 'TN',\r\n  TURKEY = 'TR',\r\n  TURKMENISTAN = 'TM',\r\n  TURKS_AND_CAICOS_ISLANDS = 'TC',\r\n  TUVALU = 'TV',\r\n  UGANDA = 'UG',\r\n  UKRAINE = 'UA',\r\n  UNITED_ARAB_EMIRATES = 'AE',\r\n  UNITED_KINGDOM = 'GB',\r\n  UNITED_STATES = 'US',\r\n  UNITED_STATES_OUTLYING_ISLANDS = 'UM',\r\n  URUGUAY = 'UY',\r\n  UZBEKISTAN = 'UZ',\r\n  VANUATU = 'VU',\r\n  VENEZUELA = 'VE',\r\n  VIET_NAM = 'VN',\r\n  VIRGIN_ISLANDS_BRITISH = 'VG',\r\n  VIRGIN_ISLANDS_US = 'VI',\r\n  WALLIS_AND_FUTUNA = 'WF',\r\n  WESTERN_SAHARA = 'EH',\r\n  YEMEN = 'YE',\r\n  ZAMBIA = 'ZM',\r\n  ZIMBABW = 'ZW'\r\n}\r\n","export enum EmployeeCount {\r\n  LT100 = 'LT100',\r\n  LT500 = 'LT500',\r\n  LT1500 = 'LT1500',\r\n  GTE1500 = 'GTE1500',\r\n}\r\n","export enum I40MPService {\r\n  INSTANCE = 'INSTANCE',\r\n  QUESTIONNAIRE = 'QUESTIONNAIRE',\r\n  ASSESSMENT = 'ASSESSMENT',\r\n  MEASURE = 'MEASURE',\r\n  BILLING = 'BILLING',\r\n  UX = 'UX',\r\n  GRAPHIC = 'GRAPHIC',\r\n  MATURITY_SCAN = 'MATURITY_SCAN',\r\n  SCM_SCAN = 'SCM_SCAN',\r\n  STORAGE = 'STORAGE',\r\n}\r\n","export enum Industry {\r\n  AEROSPACE = 'AEROSPACE',\r\n  AUTOMOTIVE = 'AUTOMOTIVE',\r\n  CHEMICAL = 'CHEMICAL',\r\n  COMPONENT_SUPPLIER = 'COMPONENT_SUPPLIER',\r\n  CONSTRUCTION = 'CONSTRUCTION',\r\n  ELECTRONICS_SEMICONDUCTOR = 'ELECTRONICS_SEMICONDUCTOR',\r\n  ENERGY = 'ENERGY',\r\n  FOOD_BEVERAGE = 'FOOD_BEVERAGE',\r\n  INDUSTRIAL_SERVICES = 'INDUSTRIAL_SERVICES',\r\n  LOGISTICS = 'LOGISTICS',\r\n  MEDICAL_DEVICES = 'MEDICAL_DEVICES',\r\n  EQUIPMENT_MACHINE_MANUFACTURING = 'EQUIPMENT_MACHINE_MANUFACTURING',\r\n  MINING_QUARRYING = 'MINING_QUARRYING',\r\n  PHARMACEUTICAL = 'PHARMACEUTICAL',\r\n  STEEL_METAL = 'STEEL_METAL',\r\n  WHITEGOODS = 'WHITEGOODS',\r\n  OTHER = 'OTHER'\r\n}\r\n","export enum IndustryType {\r\n  PROCESS = 'PROCESS',\r\n  DISCRETE_COMPONENT = 'DISCRETE_COMPONENT',\r\n  DISCRETE_MODULE_SYSTEM = 'DISCRETE_MODULE_SYSTEM',\r\n  DISCRETE_OEM = 'DISCRETE_OEM',\r\n  OTHERS = 'OTHERS',\r\n}\r\n","// taken from https://gist.github.com/msikma/8912e62ed866778ff8cd\r\n\r\n// List of language tags according to RFC 5646.\r\n// See <http://tools.ietf.org/html/rfc5646> for info on how to parse\r\n// these language tags. Some duplicates have been removed.\r\nexport enum LanguageCode {\r\n  AF = 'af',\r\n  AF_ZA = 'af_ZA',\r\n  AR = 'ar',\r\n  AR_AE = 'ar_AE',\r\n  AR_BH = 'ar_BH',\r\n  AR_DZ = 'ar_DZ',\r\n  AR_EG = 'ar_EG',\r\n  AR_IQ = 'ar_IQ',\r\n  AR_JO = 'ar_JO',\r\n  AR_KW = 'ar_KW',\r\n  AR_LB = 'ar_LB',\r\n  AR_LY = 'ar_LY',\r\n  AR_MA = 'ar_MA',\r\n  AR_OM = 'ar_OM',\r\n  AR_QA = 'ar_QA',\r\n  AR_SA = 'ar_SA',\r\n  AR_SY = 'ar_SY',\r\n  AR_TN = 'ar_TN',\r\n  AR_YE = 'ar_YE',\r\n  AZ = 'az',\r\n  AZ_AZ = 'az_AZ',\r\n  AZ_CYRL_AZ = 'az_Cyrl_AZ',\r\n  BE = 'be',\r\n  BE_BY = 'be_BY',\r\n  BG = 'bg',\r\n  BG_BG = 'bg_BG',\r\n  BS_BA = 'bs_BA',\r\n  CA = 'ca',\r\n  CA_ES = 'ca_ES',\r\n  CS = 'cs',\r\n  CS_CZ = 'cs_CZ',\r\n  CY = 'cy',\r\n  CY_GB = 'cy_GB',\r\n  DA = 'da',\r\n  DA_DK = 'da_DK',\r\n  DE = 'de',\r\n  DE_AT = 'de_AT',\r\n  DE_CH = 'de_CH',\r\n  DE_DE = 'de_DE',\r\n  DE_LI = 'de_LI',\r\n  DE_LU = 'de_LU',\r\n  DV = 'dv',\r\n  DV_MV = 'dv_MV',\r\n  EL = 'el',\r\n  EL_GR = 'el_GR',\r\n  EN = 'en',\r\n  EN_AU = 'en_AU',\r\n  EN_BZ = 'en_BZ',\r\n  EN_CA = 'en_CA',\r\n  EN_CB = 'en_CB',\r\n  EN_GB = 'en_GB',\r\n  EN_IE = 'en_IE',\r\n  EN_JM = 'en_JM',\r\n  EN_NZ = 'en_NZ',\r\n  EN_PH = 'en_PH',\r\n  EN_TT = 'en_TT',\r\n  EN_US = 'en_US',\r\n  EN_ZA = 'en_ZA',\r\n  EN_ZW = 'en_ZW',\r\n  EO = 'eo',\r\n  ES = 'es',\r\n  ES_AR = 'es_AR',\r\n  ES_BO = 'es_BO',\r\n  ES_CL = 'es_CL',\r\n  ES_CO = 'es_CO',\r\n  ES_CR = 'es_CR',\r\n  ES_DO = 'es_DO',\r\n  ES_EC = 'es_EC',\r\n  ES_ES = 'es_ES',\r\n  ES_GT = 'es_GT',\r\n  ES_HN = 'es_HN',\r\n  ES_MX = 'es_MX',\r\n  ES_NI = 'es_NI',\r\n  ES_PA = 'es_PA',\r\n  ES_PE = 'es_PE',\r\n  ES_PR = 'es_PR',\r\n  ES_PY = 'es_PY',\r\n  ES_SV = 'es_SV',\r\n  ES_UY = 'es_UY',\r\n  ES_VE = 'es_VE',\r\n  ET = 'et',\r\n  ET_EE = 'et_EE',\r\n  EU = 'eu',\r\n  EU_ES = 'eu_ES',\r\n  FA = 'fa',\r\n  FA_IR = 'fa_IR',\r\n  FI = 'fi',\r\n  FI_FI = 'fi_FI',\r\n  FO = 'fo',\r\n  FO_FO = 'fo_FO',\r\n  FR = 'fr',\r\n  FR_BE = 'fr_BE',\r\n  FR_CA = 'fr_CA',\r\n  FR_CH = 'fr_CH',\r\n  FR_FR = 'fr_FR',\r\n  FR_LU = 'fr_LU',\r\n  FR_MC = 'fr_MC',\r\n  GL = 'gl',\r\n  GL_ES = 'gl_ES',\r\n  GU = 'gu',\r\n  GU_IN = 'gu_IN',\r\n  HE = 'he',\r\n  HE_IL = 'he_IL',\r\n  HI = 'hi',\r\n  HI_IN = 'hi_IN',\r\n  HR = 'hr',\r\n  HR_BA = 'hr_BA',\r\n  HR_HR = 'hr_HR',\r\n  HU = 'hu',\r\n  HU_HU = 'hu_HU',\r\n  HY = 'hy',\r\n  HY_AM = 'hy_AM',\r\n  ID = 'id',\r\n  ID_ID = 'id_ID',\r\n  IS = 'is',\r\n  IS_IS = 'is_IS',\r\n  IT = 'it',\r\n  IT_CH = 'it_CH',\r\n  IT_IT = 'it_IT',\r\n  JA = 'ja',\r\n  JA_JP = 'ja_JP',\r\n  KA = 'ka',\r\n  KA_GE = 'ka_GE',\r\n  KK = 'kk',\r\n  KK_KZ = 'kk_KZ',\r\n  KN = 'kn',\r\n  KN_IN = 'kn_IN',\r\n  KO = 'ko',\r\n  KO_KR = 'ko_KR',\r\n  KOK = 'kok',\r\n  KOK_IN = 'kok_IN',\r\n  KY = 'ky',\r\n  KY_KG = 'ky_KG',\r\n  LT = 'lt',\r\n  LT_LT = 'lt_LT',\r\n  LV = 'lv',\r\n  LV_LV = 'lv_LV',\r\n  MI = 'mi',\r\n  MI_NZ = 'mi_NZ',\r\n  MK = 'mk',\r\n  MK_MK = 'mk_MK',\r\n  MN = 'mn',\r\n  MN_MN = 'mn_MN',\r\n  MR = 'mr',\r\n  MR_IN = 'mr_IN',\r\n  MS = 'ms',\r\n  MS_BN = 'ms_BN',\r\n  MS_MY = 'ms_MY',\r\n  MT = 'mt',\r\n  MT_MT = 'mt_MT',\r\n  NB = 'nb',\r\n  NB_NO = 'nb_NO',\r\n  NL = 'nl',\r\n  NL_BE = 'nl_BE',\r\n  NL_NL = 'nl_NL',\r\n  NN_NO = 'nn_NO',\r\n  NS = 'ns',\r\n  NS_ZA = 'ns_ZA',\r\n  PA = 'pa',\r\n  PA_IN = 'pa_IN',\r\n  PL = 'pl',\r\n  PL_PL = 'pl_PL',\r\n  PS = 'ps',\r\n  PS_AR = 'ps_AR',\r\n  PT = 'pt',\r\n  PT_BR = 'pt_BR',\r\n  PT_PT = 'pt_PT',\r\n  QU = 'qu',\r\n  QU_BO = 'qu_BO',\r\n  QU_EC = 'qu_EC',\r\n  QU_PE = 'qu_PE',\r\n  RO = 'ro',\r\n  RO_RO = 'ro_RO',\r\n  RU = 'ru',\r\n  RU_RU = 'ru_RU',\r\n  SA = 'sa',\r\n  SA_IN = 'sa_IN',\r\n  SE = 'se',\r\n  SE_FI = 'se_FI',\r\n  SE_NO = 'se_NO',\r\n  SE_SE = 'se_SE',\r\n  SK = 'sk',\r\n  SK_SK = 'sk_SK',\r\n  SL = 'sl',\r\n  SL_SI = 'sl_SI',\r\n  SQ = 'sq',\r\n  SQ_AL = 'sq_AL',\r\n  SR_BA = 'sr_BA',\r\n  SR_CYRL_BA = 'sr_Cyrl_BA',\r\n  SR_SP = 'sr_SP',\r\n  SR_CYRL_SP = 'sr_Cyrl_SP',\r\n  SV = 'sv',\r\n  SV_FI = 'sv_FI',\r\n  SV_SE = 'sv_SE',\r\n  SW = 'sw',\r\n  SW_KE = 'sw_KE',\r\n  SYR = 'syr',\r\n  SYR_SY = 'syr_SY',\r\n  TA = 'ta',\r\n  TA_IN = 'ta_IN',\r\n  TE = 'te',\r\n  TE_IN = 'te_IN',\r\n  TH = 'th',\r\n  TH_TH = 'th_TH',\r\n  TL = 'tl',\r\n  TL_PH = 'tl_PH',\r\n  TN = 'tn',\r\n  TN_ZA = 'tn_ZA',\r\n  TR = 'tr',\r\n  TR_TR = 'tr_TR',\r\n  TT = 'tt',\r\n  TT_RU = 'tt_RU',\r\n  TS = 'ts',\r\n  UK = 'uk',\r\n  UK_UA = 'uk_UA',\r\n  UR = 'ur',\r\n  UR_PK = 'ur_PK',\r\n  UZ = 'uz',\r\n  UZ_UZ = 'uz_UZ',\r\n  UZ_CYRL_UZ = 'uz_Cyrl_UZ',\r\n  VI = 'vi',\r\n  VI_VN = 'vi_VN',\r\n  XH = 'xh',\r\n  XH_ZA = 'xh_ZA',\r\n  ZH = 'zh',\r\n  ZH_CN = 'zh_CN',\r\n  ZH_HK = 'zh_HK',\r\n  ZH_MO = 'zh_MO',\r\n  ZH_SG = 'zh_SG',\r\n  ZH_TW = 'zh_TW',\r\n  ZU = 'zu',\r\n  ZU_ZA = 'zu_ZA',\r\n}\r\n","export enum LanguageName {\r\n  AF = 'Afrikaans',\r\n  AF_ZA = 'Afrikaans (South Africa)',\r\n  AR = 'Arabic',\r\n  AR_AE = 'Arabic (U.A.E.)',\r\n  AR_BH = 'Arabic (Bahrain)',\r\n  AR_DZ = 'Arabic (Algeria)',\r\n  AR_EG = 'Arabic (Egypt)',\r\n  AR_IQ = 'Arabic (Iraq)',\r\n  AR_JO = 'Arabic (Jordan)',\r\n  AR_KW = 'Arabic (Kuwait)',\r\n  AR_LB = 'Arabic (Lebanon)',\r\n  AR_LY = 'Arabic (Libya)',\r\n  AR_MA = 'Arabic (Morocco)',\r\n  AR_OM = 'Arabic (Oman)',\r\n  AR_QA = 'Arabic (Qatar)',\r\n  AR_SA = 'Arabic (Saudi Arabia)',\r\n  AR_SY = 'Arabic (Syria)',\r\n  AR_TN = 'Arabic (Tunisia)',\r\n  AR_YE = 'Arabic (Yemen)',\r\n  AZ = 'Azeri (Latin)',\r\n  AZ_AZ = 'Azeri (Latin) (Azerbaijan)',\r\n  AZ_CYRL_AZ = 'Azeri (Cyrillic) (Azerbaijan)',\r\n  BE = 'Belarusian',\r\n  BE_BY = 'Belarusian (Belarus)',\r\n  BG = 'Bulgarian',\r\n  BG_BG = 'Bulgarian (Bulgaria)',\r\n  BS_BA = 'Bosnian (Bosnia and Herzegovina)',\r\n  CA = 'Catalan',\r\n  CA_ES = 'Catalan (Spain)',\r\n  CS = 'Czech',\r\n  CS_CZ = 'Czech (Czech Republic)',\r\n  CY = 'Welsh',\r\n  CY_GB = 'Welsh (United Kingdom)',\r\n  DA = 'Danish',\r\n  DA_DK = 'Danish (Denmark)',\r\n  DE = 'German',\r\n  DE_AT = 'German (Austria)',\r\n  DE_CH = 'German (Switzerland)',\r\n  DE_DE = 'German (Germany)',\r\n  DE_LI = 'German (Liechtenstein)',\r\n  DE_LU = 'German (Luxembourg)',\r\n  DV = 'Divehi',\r\n  DV_MV = 'Divehi (Maldives)',\r\n  EL = 'Greek',\r\n  EL_GR = 'Greek (Greece)',\r\n  EN = 'English',\r\n  EN_AU = 'English (Australia)',\r\n  EN_BZ = 'English (Belize)',\r\n  EN_CA = 'English (Canada)',\r\n  EN_CB = 'English (Caribbean)',\r\n  EN_GB = 'English (United Kingdom)',\r\n  EN_IE = 'English (Ireland)',\r\n  EN_JM = 'English (Jamaica)',\r\n  EN_NZ = 'English (New Zealand)',\r\n  EN_PH = 'English (Republic of the Philippines)',\r\n  EN_TT = 'English (Trinidad and Tobago)',\r\n  EN_US = 'English (United States)',\r\n  EN_ZA = 'English (South Africa)',\r\n  EN_ZW = 'English (Zimbabwe)',\r\n  EO = 'Esperanto',\r\n  ES = 'Spanish',\r\n  ES_AR = 'Spanish (Argentina)',\r\n  ES_BO = 'Spanish (Bolivia)',\r\n  ES_CL = 'Spanish (Chile)',\r\n  ES_CO = 'Spanish (Colombia)',\r\n  ES_CR = 'Spanish (Costa Rica)',\r\n  ES_DO = 'Spanish (Dominican Republic)',\r\n  ES_EC = 'Spanish (Ecuador)',\r\n  ES_ES = 'Spanish (Spain)',\r\n  ES_GT = 'Spanish (Guatemala)',\r\n  ES_HN = 'Spanish (Honduras)',\r\n  ES_MX = 'Spanish (Mexico)',\r\n  ES_NI = 'Spanish (Nicaragua)',\r\n  ES_PA = 'Spanish (Panama)',\r\n  ES_PE = 'Spanish (Peru)',\r\n  ES_PR = 'Spanish (Puerto Rico)',\r\n  ES_PY = 'Spanish (Paraguay)',\r\n  ES_SV = 'Spanish (El Salvador)',\r\n  ES_UY = 'Spanish (Uruguay)',\r\n  ES_VE = 'Spanish (Venezuela)',\r\n  ET = 'Estonian',\r\n  ET_EE = 'Estonian (Estonia)',\r\n  EU = 'Basque',\r\n  EU_ES = 'Basque (Spain)',\r\n  FA = 'Farsi',\r\n  FA_IR = 'Farsi (Iran)',\r\n  FI = 'Finnish',\r\n  FI_FI = 'Finnish (Finland)',\r\n  FO = 'Faroese',\r\n  FO_FO = 'Faroese (Faroe Islands)',\r\n  FR = 'French',\r\n  FR_BE = 'French (Belgium)',\r\n  FR_CA = 'French (Canada)',\r\n  FR_CH = 'French (Switzerland)',\r\n  FR_FR = 'French (France)',\r\n  FR_LU = 'French (Luxembourg)',\r\n  FR_MC = 'French (Principality of Monaco)',\r\n  GL = 'Galician',\r\n  GL_ES = 'Galician (Spain)',\r\n  GU = 'Gujarati',\r\n  GU_IN = 'Gujarati (India)',\r\n  HE = 'Hebrew',\r\n  HE_IL = 'Hebrew (Israel)',\r\n  HI = 'Hindi',\r\n  HI_IN = 'Hindi (India)',\r\n  HR = 'Croatian',\r\n  HR_BA = 'Croatian (Bosnia and Herzegovina)',\r\n  HR_HR = 'Croatian (Croatia)',\r\n  HU = 'Hungarian',\r\n  HU_HU = 'Hungarian (Hungary)',\r\n  HY = 'Armenian',\r\n  HY_AM = 'Armenian (Armenia)',\r\n  ID = 'Indonesian',\r\n  ID_ID = 'Indonesian (Indonesia)',\r\n  IS = 'Icelandic',\r\n  IS_IS = 'Icelandic (Iceland)',\r\n  IT = 'Italian',\r\n  IT_CH = 'Italian (Switzerland)',\r\n  IT_IT = 'Italian (Italy)',\r\n  JA = 'Japanese',\r\n  JA_JP = 'Japanese (Japan)',\r\n  KA = 'Georgian',\r\n  KA_GE = 'Georgian (Georgia)',\r\n  KK = 'Kazakh',\r\n  KK_KZ = 'Kazakh (Kazakhstan)',\r\n  KN = 'Kannada',\r\n  KN_IN = 'Kannada (India)',\r\n  KO = 'Korean',\r\n  KO_KR = 'Korean (Korea)',\r\n  KOK = 'Konkani',\r\n  KOK_IN = 'Konkani (India)',\r\n  KY = 'Kyrgyz',\r\n  KY_KG = 'Kyrgyz (Kyrgyzstan)',\r\n  LT = 'Lithuanian',\r\n  LT_LT = 'Lithuanian (Lithuania)',\r\n  LV = 'Latvian',\r\n  LV_LV = 'Latvian (Latvia)',\r\n  MI = 'Maori',\r\n  MI_NZ = 'Maori (New Zealand)',\r\n  MK = 'FYRO Macedonian',\r\n  MK_MK = 'FYRO Macedonian (Former Yugoslav Republic of Macedonia)',\r\n  MN = 'Mongolian',\r\n  MN_MN = 'Mongolian (Mongolia)',\r\n  MR = 'Marathi',\r\n  MR_IN = 'Marathi (India)',\r\n  MS = 'Malay',\r\n  MS_BN = 'Malay (Brunei Darussalam)',\r\n  MS_MY = 'Malay (Malaysia)',\r\n  MT = 'Maltese',\r\n  MT_MT = 'Maltese (Malta)',\r\n  NB = 'Norwegian (Bokm?l)',\r\n  NB_NO = 'Norwegian (Bokm?l) (Norway)',\r\n  NL = 'Dutch',\r\n  NL_BE = 'Dutch (Belgium)',\r\n  NL_NL = 'Dutch (Netherlands)',\r\n  NN_NO = 'Norwegian (Nynorsk) (Norway)',\r\n  NS = 'Northern Sotho',\r\n  NS_ZA = 'Northern Sotho (South Africa)',\r\n  PA = 'Punjabi',\r\n  PA_IN = 'Punjabi (India)',\r\n  PL = 'Polish',\r\n  PL_PL = 'Polish (Poland)',\r\n  PS = 'Pashto',\r\n  PS_AR = 'Pashto (Afghanistan)',\r\n  PT = 'Portuguese',\r\n  PT_BR = 'Portuguese (Brazil)',\r\n  PT_PT = 'Portuguese (Portugal)',\r\n  QU = 'Quechua',\r\n  QU_BO = 'Quechua (Bolivia)',\r\n  QU_EC = 'Quechua (Ecuador)',\r\n  QU_PE = 'Quechua (Peru)',\r\n  RO = 'Romanian',\r\n  RO_RO = 'Romanian (Romania)',\r\n  RU = 'Russian',\r\n  RU_RU = 'Russian (Russia)',\r\n  SA = 'Sanskrit',\r\n  SA_IN = 'Sanskrit (India)',\r\n  SE = 'Sami',\r\n  SE_FI = 'Sami (Finland)',\r\n  SE_NO = 'Sami (Norway)',\r\n  SE_SE = 'Sami (Sweden)',\r\n  SK = 'Slovak',\r\n  SK_SK = 'Slovak (Slovakia)',\r\n  SL = 'Slovenian',\r\n  SL_SI = 'Slovenian (Slovenia)',\r\n  SQ = 'Albanian',\r\n  SQ_AL = 'Albanian (Albania)',\r\n  SR_BA = 'Serbian (Latin) (Bosnia and Herzegovina)',\r\n  SR_CYRL_BA = 'Serbian (Cyrillic) (Bosnia and Herzegovina)',\r\n  SR_SP = 'Serbian (Latin) (Serbia and Montenegro)',\r\n  SR_CYRL_SP = 'Serbian (Cyrillic) (Serbia and Montenegro)',\r\n  SV = 'Swedish',\r\n  SV_FI = 'Swedish (Finland)',\r\n  SV_SE = 'Swedish (Sweden)',\r\n  SW = 'Swahili',\r\n  SW_KE = 'Swahili (Kenya)',\r\n  SYR = 'Syriac',\r\n  SYR_SY = 'Syriac (Syria)',\r\n  TA = 'Tamil',\r\n  TA_IN = 'Tamil (India)',\r\n  TE = 'Telugu',\r\n  TE_IN = 'Telugu (India)',\r\n  TH = 'Thai',\r\n  TH_TH = 'Thai (Thailand)',\r\n  TL = 'Tagalog',\r\n  TL_PH = 'Tagalog (Philippines)',\r\n  TN = 'Tswana',\r\n  TN_ZA = 'Tswana (South Africa)',\r\n  TR = 'Turkish',\r\n  TR_TR = 'Turkish (Turkey)',\r\n  TT = 'Tatar',\r\n  TT_RU = 'Tatar (Russia)',\r\n  TS = 'Tsonga',\r\n  UK = 'Ukrainian',\r\n  UK_UA = 'Ukrainian (Ukraine)',\r\n  UR = 'Urdu',\r\n  UR_PK = 'Urdu (Islamic Republic of Pakistan)',\r\n  UZ = 'Uzbek (Latin)',\r\n  UZ_UZ = 'Uzbek (Latin) (Uzbekistan)',\r\n  UZ_CYRL_UZ = 'Uzbek (Cyrillic) (Uzbekistan)',\r\n  VI = 'Vietnamese',\r\n  VI_VN = 'Vietnamese (Viet Nam)',\r\n  XH = 'Xhosa',\r\n  XH_ZA = 'Xhosa (South Africa)',\r\n  ZH = 'Chinese',\r\n  ZH_CN = 'Chinese (S)',\r\n  ZH_HK = 'Chinese (Hong Kong)',\r\n  ZH_MO = 'Chinese (Macau)',\r\n  ZH_SG = 'Chinese (Singapore)',\r\n  ZH_TW = 'Chinese (T)',\r\n  ZU = 'Zulu',\r\n  ZU_ZA = 'Zulu (South Africa)',\r\n}\r\n","export enum MaturityLevelBit {\r\n  COMPUTERIZATION = 1,\r\n  CONNECTIVITY = 2,\r\n  VISIBILITY = 4,\r\n  TRANSPARENCY = 8,\r\n  PREDICTABILITY = 16,\r\n  ADAPTABILITY = 32,\r\n}\r\n","export enum MaturityLevelName {\r\n  COMPUTERIZATION = 'COMPUTERIZATION',\r\n  CONNECTIVITY = 'CONNECTIVITY',\r\n  VISIBILITY = 'VISIBILITY',\r\n  TRANSPARENCY = 'TRANSPARENCY',\r\n  PREDICTABILITY = 'PREDICTABILITY',\r\n  ADAPTABILITY = 'ADAPTABILITY',\r\n  NOT_APPLICABLE = 'NOT_APPLICABLE'\r\n}\r\n","export enum MaturityLevelValue {\r\n  COMPUTERIZATION = 1,\r\n  CONNECTIVITY,\r\n  VISIBILITY,\r\n  TRANSPARENCY,\r\n  PREDICTABILITY,\r\n  ADAPTABILITY,\r\n  NOT_APPLICABLE = -1\r\n}\r\n","export enum Operation {\r\n  CREATE = 'CREATE',\r\n  UPDATE = 'UPDATE',\r\n  DELETE = 'DELETE',\r\n}\r\n","export enum QuestionEntityMetadatumType {\r\n  MAIN_PROCESS = 'MAIN_PROCESS',\r\n  CAPABILITY = 'CAPABILITY',\r\n  STRUCTURING_FORCE = 'STRUCTURING_FORCE',\r\n  PRINCIPLE = 'PRINCIPLE',\r\n  PROCESS_OWNER = 'PROCESS_OWNER',\r\n}\r\n","export enum QuestionEntityUpdateType {\r\n  MAJOR = 'MAJOR',\r\n  MINOR = 'MINOR',\r\n  CORRECTION = 'CORRECTION'\r\n}","export enum Role {\r\n  ADMIN = 'ADMIN',\r\n  ACCOUNTING = 'ACCOUNTING',\r\n  ANALYST = 'ANALYST',\r\n  EDITOR = 'EDITOR',\r\n}\r\n","export enum SupplyChainPosition {\r\n  OEM = 'OEM',\r\n  TIER1 = 'TIER1',\r\n  TIER2 = 'TIER2',\r\n  TIER3PLUS = 'TIER3PLUS',\r\n  OTHERS = 'OTHERS',\r\n}\r\n","export * from './default-options.decorator';\r\nexport * from './returns-null-instead-of-empty-array.decorator';\r\n","import { deepCopy, isObject, mergeObjects } from '../helpers/object.helper';\r\n\r\nconst defaultOptionsIdSymbol = Symbol('defaultOptionsId');\r\nconst defaultOptionsSymbol = Symbol('defaultOptions');\r\n\r\n/**\r\n * Default options decorator\r\n *\r\n * Allow provision of partial option object. Any missing properties will be populated by the value\r\n * of defaultOptions\r\n */\r\nexport const DefaultOptions = (\r\n  defaultOptions: object,\r\n  optionsId?: string | symbol,\r\n) => {\r\n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {\r\n    optionsId = optionsId || defaultOptionsIdSymbol;\r\n\r\n    descriptor.value[defaultOptionsSymbol] = descriptor.value[defaultOptionsSymbol] || {};\r\n    descriptor.value[defaultOptionsSymbol][optionsId] = defaultOptions;\r\n    return descriptor;\r\n  };\r\n}\r\n\r\n/**\r\n * Merges options populated by DefaultOption decorator and the options provided via parameter\r\n */\r\nexport function patchOptions<T extends object>(\r\n  func: (...args: any[]) => any,\r\n  options: T,\r\n  optionsId?: string | symbol,\r\n): Partial<T> {\r\n  optionsId = optionsId || defaultOptionsIdSymbol;\r\n  const defaultOptions = func[defaultOptionsSymbol]?.[optionsId];\r\n\r\n  if (isObject(defaultOptions)) {\r\n    const defaultCopy = deepCopy(defaultOptions);\r\n    if (isObject(options)) {\r\n      mergeObjects(\r\n        defaultCopy,\r\n        options,\r\n      );\r\n    }\r\n    return defaultCopy;\r\n  }\r\n\r\n  return isObject(options) ? deepCopy(options) : {};\r\n}\r\n","export const ReturnsNullInsteadOfEmptyArray = () => {\r\n  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\r\n    const originalFn = descriptor.value;\r\n    descriptor.value = async function (...args: any[]) {\r\n      const result = await originalFn.apply(this, args);\r\n      return result.length === 0 ? null : result;\r\n    };\r\n\r\n    return descriptor;\r\n  };\r\n};\r\n","export * from './aggregated.exception';\r\nexport * from './corrupt-state.exception';\r\nexport * from './union-mapping.exception';\r\n","/**\r\n * Aggregated Exception\r\n *\r\n * Contains a collection of errors\r\n *\r\n */\r\nexport class AggregatedException extends Error {\r\n  constructor(\r\n    readonly errors: Error[] | readonly Error[],\r\n    message?: string,\r\n  ) {\r\n    super(message);\r\n    this.name = 'AggregatedException';\r\n\r\n    Object.setPrototypeOf(this, new.target.prototype);\r\n  }\r\n}\r\n","export class CorruptStateException extends Error {\r\n  public name = 'CorruptStateException';\r\n  \r\n  constructor(message?: string) {\r\n    super(message);\r\n\r\n    Object.setPrototypeOf(this, new.target.prototype);\r\n  }\r\n}\r\n","export class UnionMappingException extends Error {\r\n  public name = 'UnionMappingException';\r\n  \r\n  constructor(message?: string) {\r\n    super(message);\r\n\r\n    Object.setPrototypeOf(this, new.target.prototype);\r\n  }\r\n}\r\n","export * from './augments-batch-function-call.helper';\r\nexport * from './date.helper';\r\nexport * from './enum.helper';\r\nexport * from './json.helper';\r\nexport * from './math.helper';\r\nexport * from './object.helper';\r\nexport * from './polymorphic-key-fn-loader.helper';\r\nexport * from './promise.helper';\r\nexport * from './query-data.helper';\r\nexport * from './retry.helper';\r\nexport * from './rxjs.helper';\r\nexport * from './sleep.helper';\r\nexport * from './sort-top-level-record-keys.helper';\r\nexport * from './string.helper';\r\nexport * from './uuid.helper';\r\n","/**\r\n * augmentsBatchFunctionCall\r\n *\r\n * Augments batch function call to return faux data from an alternative datasource when provided\r\n *\r\n * @param keys keys\r\n * @param keysSanitizerFn filter function that will be applied to the keys before being passed into the batch function\r\n * @param batchFn batch function that receives keys as an array and returns the corresponding data in the same order\r\n * @param alternativeDatasource alternative datasource as dictionary with value of type T. Value found in the alternative datasource will take precedence over the value returned by the batch function.\r\n */\r\nexport async function augmentsBatchFunctionCall<T>(\r\n  keys: readonly string[] | string[],\r\n  keysSanitizerFn: (key: string) => boolean,\r\n  batchFn: (keys: readonly string[] | string[]) => Promise<T[]>,\r\n  alternativeDatasource: { [key: string]: T } = {},\r\n): Promise<T[]> {\r\n  const sanitizedIdsIndexDict = {};\r\n  const sanitizedIds: string[] = [];\r\n\r\n  for (const id of keys) {\r\n    if (keysSanitizerFn(id)) {\r\n      sanitizedIdsIndexDict[id] = sanitizedIds.push(id) - 1;\r\n    }\r\n  }\r\n\r\n  const batchFnRes = await batchFn(sanitizedIds);\r\n  return (keys as readonly string[]).map(id => {\r\n    if (alternativeDatasource[id] !== undefined) {\r\n      return alternativeDatasource[id];\r\n    }\r\n\r\n    return isNaN(sanitizedIdsIndexDict[id]) ? null : batchFnRes[sanitizedIdsIndexDict[id]];\r\n  });\r\n}\r\n","export function getYearDiff(dateA: Date, dateB: Date): number {\r\n  const ageDiffInMs = Math.abs(dateA.getTime() - dateB.getTime());\r\n  const ageDiff = new Date(ageDiffInMs);\r\n\r\n  return Math.abs(ageDiff.getUTCFullYear() - 1970);\r\n}\r\n","export function getEnumKeys(enumObject: Record<string, any>): string[] {\r\n  return Object.keys(enumObject).filter(key =>\r\n    isNaN(parseInt(key, 10)),\r\n  );\r\n}\r\n\r\nexport function getEnumValues<T>(enumObject: Record<string, T>): T[] {\r\n  return getEnumKeys(enumObject).map(key => enumObject[key]);\r\n}\r\n\r\nexport function getEnumKeyByValue<T>(enumObject: Record<string, T>, enumValue: T): string {\r\n  const key = Object.keys(enumObject).find(x => enumObject[x] === enumValue);\r\n  return key ?? null;\r\n}\r\n","export const Json = {\r\n  stringify(o: any, space?: string | number) {\r\n    const visited = [];\r\n    return JSON.stringify(o, (k, v) => {\r\n      if (typeof v === 'object') {\r\n        if (!visited.indexOf(v)) {\r\n          return '__cycle_' + typeof v + '__';\r\n        }\r\n        visited.push(v);\r\n      }\r\n      return v;\r\n    }, space);\r\n  },\r\n};\r\n","export function modulo(x, y) {\r\n  return ((x % y) + y) % y;\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\n/**\r\n *\r\n * @param num the number to check\r\n * @param min including\r\n * @param max including\r\n */\r\nexport function isBetween(num: number, min: number, max: number): boolean {\r\n  return num >= min && num <= max;\r\n}\r\n\r\nfunction isNumeric(str: string | number) {\r\n  if (typeof str === 'number') {\r\n    return true;\r\n  } else if (typeof str !== 'string') {\r\n    return false;\r\n  }\r\n  return !isNaN(parseFloat(str));\r\n}\r\n","/**\r\n * Batch Function Wrapper [WIP]\r\n *\r\n * Wrapper to mux and demux several polymorphic keys together as a single argument through a batch function\r\n *\r\n * @param keys dataloader keys\r\n * @param keyLookupPropName property name on the key object used as the lookup id\r\n * @param batchFn batch function to fetch the data\r\n * @param mapFn mapping function for data returned from the batch function\r\n * @param errorOrNullMapFn mapping function for error or null data returned from the batch function\r\n */\r\nexport async function polymorphicKeyFnLoader<K, D, V>(\r\n  keys: readonly K[],\r\n  keyLookupPropName: keyof K,\r\n  batchFn: (ids: string[] | readonly string[]) => Promise<D | (Error | D)[]>,\r\n  mapFn: (key: K, data: D) => V,\r\n  errorOrNullMapFn?: (key: K, data?: Error) => any,\r\n): Promise<V[]> {\r\n  const ids: string[] = [];\r\n  const indexDict: {\r\n    [id: string]: number;\r\n  } = {};\r\n\r\n  for (const key of keys) {\r\n    const lookupId: any = key[keyLookupPropName];\r\n\r\n    if (typeof lookupId !== 'string') {\r\n      throw new Error('Lookup ID must be of type string or number');\r\n    }\r\n\r\n    const idx = ids.indexOf(lookupId);\r\n    if (idx === -1) {\r\n      ids.push(lookupId);\r\n      indexDict[lookupId] = ids.length - 1;\r\n    } else {\r\n      indexDict[lookupId] = idx;\r\n    }\r\n  }\r\n\r\n  const dataArray = await batchFn(ids);\r\n\r\n  return keys.map(key => {\r\n    const data: D | Error = dataArray[indexDict[(key[keyLookupPropName] as any)]];\r\n    if (data instanceof Error || data == null) {\r\n      return errorOrNullMapFn ? errorOrNullMapFn(key, (data as null | Error)) : data;\r\n    }\r\n\r\n    return mapFn(key, data);\r\n  });\r\n}\r\n","export type ResolveFn<T> = (value: T | PromiseLike<T>) => void;\r\n\r\nexport type RejectFn = (reason?: any) => void;\r\nexport interface DeferredPromise<T> extends Promise<T> {\r\n  resolve(value?: T | PromiseLike<T>);\r\n  reject(value?);\r\n  isResolved(): boolean;\r\n  isRejected(): boolean;\r\n  hasFinished(): boolean;\r\n}\r\n\r\nexport interface QueryablePromise<T> extends Promise<T> {\r\n  state: 'PENDING' | 'FULFILLED' | 'REJECTED';\r\n}\r\n\r\n\r\n/**\r\n * @DEPRECATED\r\n * Creates a promise that can be resolved/rejected from outside the promise\r\n */\r\nexport function createDeferredPromise<T>(\r\n  executor?: (resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void,\r\n) {\r\n  let _resolve: (value?: T | PromiseLike<T>) => void = null;\r\n  let _reject = null;\r\n  let resolved = false;\r\n  let rejected = false;\r\n\r\n  const promise: DeferredPromise<T> = new Promise<T>((resolve, reject) => {\r\n    _resolve = resolve;\r\n    _reject = reject;\r\n\r\n    if (executor) {\r\n      executor(resolve, reject);\r\n    }\r\n  }) as DeferredPromise<T>;\r\n\r\n  promise.resolve = (value?: T | PromiseLike<T>) => {\r\n    _resolve(value);\r\n    resolved = true;\r\n  };\r\n  promise.reject = (reason?: any) => {\r\n    _reject(reason);\r\n    rejected = true;\r\n  };\r\n  promise.isResolved = () => resolved;\r\n  promise.isRejected = () => rejected;\r\n  promise.hasFinished = () => rejected || resolved;\r\n\r\n  return promise;\r\n}\r\n\r\nexport function mapAsync<T, R>(args: T[], mapper: (arg: T) => Promise<R> | R): Promise<R[]> {\r\n  return Promise.all(args.map(mapper));\r\n}\r\n\r\nexport async function wait(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n\r\n/**\r\n * Creates a promise which has a state that can be checked synchronously\r\n */\r\nexport function createQueryablePromise<T>(executorFn: (resolveFn: ResolveFn<T>, rejectFn: RejectFn) => void): QueryablePromise<T> {\r\n  const promise: QueryablePromise<T> = new Promise<T>((resolve, reject) => {\r\n    executorFn(resolve, reject);\r\n  }) as QueryablePromise<T>;\r\n  \r\n  promise.state = 'PENDING';\r\n  \r\n  promise.then(() => {\r\n    promise.state = 'FULFILLED';\r\n  })\r\n\r\n  promise.catch(() => {\r\n    promise.state = 'REJECTED';\r\n  })\r\n\r\n  return promise;\r\n}\r\n","import { ApolloQueryResult } from '@apollo/client/core';\r\nimport { SubscriptionResult } from 'apollo-angular/types';\r\nimport { cloneDeep } from 'lodash';\r\nimport { OperatorFunction } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { SafeAny } from '../types/generic';\r\n\r\nexport function queryData<Q extends keyof T, T extends SafeAny = SafeAny>(\r\n  query: Q,\r\n  cloneResult: boolean = true,\r\n  thisArg?: SafeAny,\r\n): OperatorFunction<(ApolloQueryResult<T> | SubscriptionResult<T>), ApolloQueryResult<T>['data'][Q]> {\r\n  return map((queryResult) => {\r\n    let result = queryResult.data?.[query as string];\r\n    if (cloneResult) {\r\n      result = cloneDeep(result);\r\n    }\r\n    return result;\r\n  }, thisArg);\r\n}\r\n","export async function retry<T>(\r\n  fn: () => Promise<T>,\r\n  retries: number = 5,\r\n  intervalInMs: number = 1000,\r\n  exponential: boolean = false,\r\n): Promise<T> {\r\n  try {\r\n    return await fn();\r\n  } catch (error) {\r\n    if (retries-- <= 0) {\r\n      throw error;\r\n    }\r\n\r\n    await new Promise(resolve => setTimeout(resolve, intervalInMs));\r\n    return retry(\r\n      fn,\r\n      retries,\r\n      exponential ? intervalInMs * 2 : intervalInMs,\r\n      exponential,\r\n    );\r\n  }\r\n}\r\n","import { defer, from, MonoTypeOperatorFunction, Observable, ObservableInput, ObservedValueOf, of, OperatorFunction, Subscription } from 'rxjs';\r\nimport { filter, map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\r\nimport { SafeAny } from '../types/generic';\r\n\r\nexport function debug<T>(tag: string): MonoTypeOperatorFunction<T> {\r\n  return tap<T>({\r\n    next(value) {\r\n      console.log(`%c[${ tag }: Next]`, 'background: #009688; color: #fff; padding: 3px; font-size: 9px;', value);\r\n    },\r\n    error(error) {\r\n      console.log(`%c[${ tag }: Error]`, 'background: #E91E63; color: #fff; padding: 3px; font-size: 9px;', error);\r\n    },\r\n    complete() {\r\n      console.log(`%c[${ tag }: Complete]`, 'background: #00BCD4; color: #fff; padding: 3px; font-size: 9px;');\r\n    },\r\n  });\r\n}\r\n\r\nexport function ofFunction<T>(func: () => T) {\r\n  return of(null).pipe(map(func));\r\n}\r\n\r\nexport function filterNil<T>(): MonoTypeOperatorFunction<T> {\r\n  return filter<T>(value => value !== undefined && value !== null);\r\n}\r\n\r\nexport function equals<T>(v1: T, strict: boolean = true): OperatorFunction<T, boolean> {\r\n  return map<T, boolean>((v2: T) => {\r\n    return strict ? v1 === v2 : v1 == v2;\r\n  });\r\n}\r\n\r\nexport function isIn<T>(...v1: T[]): OperatorFunction<T, boolean> {\r\n  return map<T, boolean>((v2: T) => {\r\n    return v1.indexOf(v2) !== -1;\r\n  });\r\n}\r\n\r\nexport function mapArray<S, T>(callbackfn: (value: S, index: number, array: S[]) => T, thisArg?: SafeAny) {\r\n  return map<S[], T[]>((value: S[]) => value.map(callbackfn, thisArg));\r\n}\r\n\r\nexport function filterArray<S>(predicate: (value: S, index: number, array: S[]) => unknown, thisArg?: SafeAny) {\r\n  return map<S[], S[]>((value: S[]) => value.filter(predicate, thisArg));\r\n}\r\n\r\nexport function switchFilterMap<T, O extends ObservableInput<any>>(\r\n  filterPredicate: (value: T, index: number) => boolean,\r\n  project: (value: T, index: number) => O,\r\n): OperatorFunction<T, ObservedValueOf<O>> {\r\n  return (input) => {\r\n    return new Observable<ObservedValueOf<O>>(subscriber => {\r\n\r\n      let count: number = 0;\r\n\r\n      let innerSubscribtion: Subscription = Subscription.EMPTY;\r\n      input.subscribe({\r\n        next(value) {\r\n          innerSubscribtion.unsubscribe();\r\n          if (filterPredicate(value, count++)) {\r\n            innerSubscribtion = from(project(value, count))\r\n              .subscribe({\r\n                next(value: ObservedValueOf<O>) {\r\n                  subscriber.next(value);\r\n                },\r\n                error(error) {\r\n                  subscriber.error(error);\r\n                },\r\n                complete() {\r\n                  subscriber.complete();\r\n                },\r\n              });\r\n          }\r\n        },\r\n        error(error) {\r\n          subscriber.error(error);\r\n        },\r\n        complete() {\r\n          innerSubscribtion.unsubscribe();\r\n          subscriber.complete();\r\n        },\r\n      });\r\n    });\r\n  };\r\n}\r\n\r\nexport function takeWhileActive<T, O extends Observable<boolean>>(filterObservable: O): MonoTypeOperatorFunction<T> {\r\n  return (input) => {\r\n    return input.pipe(\r\n      withLatestFrom(filterObservable),\r\n      filter(([, isActive]) => !!isActive),\r\n      map(([value]) => value),\r\n    );\r\n  };\r\n}\r\n\r\nexport function skipWhileActive<T, O extends Observable<boolean>>(filterObservable: O): MonoTypeOperatorFunction<T> {\r\n  return (input) => {\r\n    return input.pipe(\r\n      withLatestFrom(filterObservable),\r\n      filter(([, isActive]) => !isActive),\r\n      map(([value]) => value),\r\n    );\r\n  };\r\n}\r\n\r\nexport function mapLatestFrom<T, O extends ObservableInput<any>>(project: O): OperatorFunction<T, ObservedValueOf<O>> {\r\n  return (input): Observable<ObservedValueOf<O>> => {\r\n    return input.pipe(\r\n      withLatestFrom(project),\r\n      map(([, value]) => value),\r\n    );\r\n  };\r\n}\r\n\r\nexport function doOnSubscribe<T>(onSubscribe: () => void): MonoTypeOperatorFunction<T> {\r\n  return function inner(source: Observable<T>): Observable<T> {\r\n    return defer(() => {\r\n      onSubscribe();\r\n      return source;\r\n    });\r\n  };\r\n}\r\n\r\nexport function tapOnce<T>(callback: (value: T) => void): MonoTypeOperatorFunction<T> {\r\n  return (source: Observable<T>) => of({}).pipe(tap(callback), switchMap(() => source));\r\n}\r\n","module.exports = require(\"rxjs\");","export async function sleep(timeInMs: number): Promise<void> {\r\n  return new Promise(res => setTimeout(res, timeInMs));\r\n}","export function sortTopLevelRecordKeys(record: Record<string, any>): Record<string, any> {\r\n  return Object.keys(record)\r\n    .sort()\r\n    .reduce(\r\n      (acc, key) => ({\r\n        ...acc,\r\n        [key]: record[key],\r\n      }),\r\n      {},\r\n    );\r\n}\r\n","import { isNil } from './object.helper';\r\n\r\nexport function toSnakeCase(text: string) {\r\n  return text.replace(/(.+?)([A-Z])/gm, '$1_$2').toLowerCase();\r\n}\r\n\r\nexport function hashCode(string) {\r\n  let hash = 0;\r\n  let i = 0;\r\n  const len = string.length;\r\n  while (i < len) {\r\n    hash = ((hash << 5) - hash + string.charCodeAt(i++)) << 0;\r\n  }\r\n  return hash;\r\n}\r\n\r\nexport function generateRandomString(length: number, symbols: boolean = false) {\r\n  let result = '';\r\n  const characters =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789' + (symbols ? '#+%$!&?' : '');\r\n  const charactersLength = characters.length;\r\n  for (let i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function stringEmpty(str: string) {\r\n  return isNil(str) || str === '';\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\n/**\r\n * Generate UUID v4\r\n */\r\nexport function generateUuidV4() {\r\n  return uuidv4();\r\n}\r\n\r\nexport { uuidv4 };\r\n","module.exports = require(\"uuid\");","\r\nexport * from './exception-with-context';\r\nexport * from './exception-with-tags';\r\nexport * from './generic';\r\nexport * from './object-property-selector';\r\nexport * from './principle';\r\nexport * from './principle-answer';\r\nexport * from './principle-score';\r\nexport * from './user-role';\r\n\r\n","import { I40MIPrinciple } from '../enums/i40mi-principle.enum';\r\nimport { SMIPrinciple } from '../enums/smi-principle.enum';\r\n\r\nexport type PrincipleType = I40MIPrinciple | SMIPrinciple;\r\nexport const Principle = { ...I40MIPrinciple, ...SMIPrinciple };\r\n","import { config } from './config';\r\nimport { cast } from './helpers/cast.helper';\r\nimport { ConfigRetrievalOption, ConfigValue, ConfigValueGenerator } from './types';\r\n\r\nexport function retrieveSecret(key: string, opts?: ConfigRetrievalOption): ConfigValueGenerator<string>\r\nexport function retrieveSecret(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo?: 'string'\r\n}): ConfigValueGenerator<string>\r\nexport function retrieveSecret(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo: 'number'\r\n}): ConfigValueGenerator<number>\r\nexport function retrieveSecret(key: string, opts?: ConfigRetrievalOption & {\r\n  castTo: 'boolean'\r\n}): ConfigValueGenerator<boolean>\r\nexport function retrieveSecret(key: string, opts?: ConfigRetrievalOption): ConfigValueGenerator {\r\n  if (!(opts?.optional) && !config.requiredSecrets.includes(key)) {\r\n    config.requiredSecrets.push(key);\r\n  }\r\n\r\n  return async () => {\r\n    // TODO: cast secret based on its contentType\r\n    let secret: ConfigValue | undefined;\r\n    if (process.env.NODE_ENV === \"development\") {\r\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n      const { SecretClient } = require('@azure/keyvault-secrets');\r\n\r\n      if (config.azureVaultClient == null) {\r\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n        const { DefaultAzureCredential } = require('@azure/identity');\r\n        config.azureVaultClient =  new SecretClient('https://i40mp.vault.azure.net', new DefaultAzureCredential());\r\n      }\r\n\r\n      const azureVaultSecret = await (config.azureVaultClient as typeof SecretClient).getSecret(key);\r\n      secret = azureVaultSecret.value;\r\n    } else {\r\n      secret = process.env[key];\r\n    }\r\n\r\n    if (!opts?.optional) {\r\n      if (secret === undefined) {\r\n        throw new Error(`Failed retrieving secret: ${key}`);\r\n      }\r\n    }\r\n\r\n    return cast(secret, opts?.castTo);\r\n  };\r\n}\r\n","export * from \"./app-config.preset\";\r\n","import { Env } from '../lib/enum/env.enum';\r\nimport { ConfigSetRaw } from '../lib/types';\r\n\r\nexport interface AppConfig {\r\n  // APP\r\n  id: string;\r\n  version: string;\r\n  port: number;\r\n  apiBaseUrl: string;\r\n\r\n  // RUNTIME\r\n  env: Env;\r\n  debug: boolean;\r\n}\r\n\r\nexport const AppConfigPresetDev: ConfigSetRaw<Omit<AppConfig, 'id' | 'version' | 'port'>> = {\r\n  env: 'development',\r\n  debug: true,\r\n  apiBaseUrl: 'http://api.localhost/',\r\n};\r\n\r\nexport const AppConfigPresetStaging: ConfigSetRaw<Omit<AppConfig, 'id' | 'version'>> = {\r\n  env: 'staging',\r\n  debug: true,\r\n  port: 4000,\r\n  apiBaseUrl: 'https://api.app.x.i40mc.de/',\r\n};\r\n\r\nexport const AppConfigPresetProd: ConfigSetRaw<Omit<AppConfig, 'id' | 'version'>> = {\r\n  env: 'production',\r\n  debug: false,\r\n  port: 4000,\r\n  apiBaseUrl: 'https://api.app.i40mc.de/',\r\n};\r\n","import { ConfigSetRaw, retrieveEnv, retrieveSecret } from '@i40mp/config';\r\nimport { RedisConfigPreset } from '@i40mp/nestjs/redis';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { environment } from '../environments/environment';\r\nimport { APP_VERSION } from './app-version';\r\n\r\n\r\nexport const CONFIG: ConfigSetRaw<DoghouseConfig> = {\r\n  ...environment,\r\n\r\n  id: 'doghouse',\r\n  version: APP_VERSION,\r\n  port: 4099,\r\n\r\n  secretKeys: retrieveSecret('doghouse-secret-keys'),\r\n\r\n  redis: {\r\n    ...RedisConfigPreset,\r\n  },\r\n\r\n  sandboxDir: retrieveEnv('SANDBOX_DIR', {\r\n    optional: true,\r\n  }) ?? '/tmp/sandbox',\r\n\r\n  // TODO: load as secret!\r\n  githubToken: retrieveSecret('github-token'),\r\n};\r\n","import { DynamicModule, Global, Module } from '@nestjs/common';\r\nimport { merge } from 'lodash';\r\nimport { DEFAULT_REDIS_MODULE_OPTS, REDIS_CLIENT, REDIS_MODULE_OPTIONS } from './constants';\r\nimport { createRedisClientProvider } from './providers/create-redis-client.provider';\r\nimport { RedisClientHelperService } from './services/redis-client-helper.services';\r\nimport { RedisModuleOptions } from './types/redis-module-options';\r\n\r\n@Global()\r\n@Module({\r\n  providers: [\r\n    {\r\n      provide: REDIS_CLIENT,\r\n      inject: [REDIS_MODULE_OPTIONS],\r\n      useFactory: createRedisClientProvider,\r\n    },\r\n    RedisClientHelperService,\r\n  ],\r\n  exports: [\r\n    REDIS_CLIENT,\r\n    RedisClientHelperService,\r\n  ],\r\n})\r\nexport class RedisModule {\r\n\r\n  static forRoot(options?: Partial<RedisModuleOptions>): DynamicModule {\r\n    options = merge(DEFAULT_REDIS_MODULE_OPTS, options);\r\n\r\n    if (options.serviceId == null) {\r\n      throw new Error('Invalid RedisModuleOptions provided');\r\n    }\r\n\r\n    (options.redis as any).connectionName = options.serviceId + options.connectionNamePostfix;\r\n\r\n    if (options.redis.keyPrefix == null) {\r\n      options.redis.keyPrefix = options.serviceId + ':';\r\n    }\r\n\r\n    return {\r\n      module: RedisModule,\r\n      providers: [\r\n        {\r\n          provide: REDIS_MODULE_OPTIONS,\r\n          useValue: options,\r\n        },\r\n      ],\r\n      exports: [REDIS_MODULE_OPTIONS],\r\n    };\r\n  }\r\n}\r\n","import * as Redis from 'ioredis';\r\nimport { RedisModuleOptions } from '../types/redis-module-options';\r\n\r\nexport function createRedisClientProvider({ redis: options }: RedisModuleOptions): Redis.Redis {\r\n  return new Redis(options);\r\n}\r\n","import { ConfigSetRaw, retrieveEnv } from '@i40mp/config';\r\nimport { RedisConfig } from './config';\r\n\r\nexport const RedisConfigPreset: ConfigSetRaw<RedisConfig> = {\r\n  host: retrieveEnv('REDIS_HOST'),\r\n  port: retrieveEnv('REDIS_PORT', { castTo: 'number' }) ?? 6379,\r\n};\r\n","import { AppConfigPresetStaging, retrieveSecret } from '@i40mp/config';\r\n\r\nexport const environment = {\r\n  ...AppConfigPresetStaging,\r\n\r\n  k8sClusterConfig: retrieveSecret('k8s-ci-experimental-i40mc-de'),\r\n};\r\n","export const APP_VERSION = 'DEV';\r\n","import { config } from '@i40mp/config';\r\nimport { DoghouseConfig } from '@i40mp/types/doghouse';\r\nimport { Logger, PipeTransform, ValidationPipe } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\nimport { NestExpressApplication } from '@nestjs/platform-express';\r\nimport { debug as Debug, enable as enableDebug } from 'debug';\r\nimport 'hbs';\r\nimport { join } from 'path';\r\nimport { AppModule } from './app/app.module';\r\n\r\n\r\nconst globalMiddlewares = [];\r\nconst globalPipes: PipeTransform[] = [\r\n  new ValidationPipe({\r\n    always: true,\r\n    transform: true,\r\n    transformOptions: {\r\n      enableImplicitConversion: true,\r\n    },\r\n  }),\r\n];\r\nconst enabledDebugOutputs = [\r\n  config.data<DoghouseConfig>().id,\r\n];\r\n\r\nasync function bootstrap() {\r\n  enableDebug(enabledDebugOutputs.join(','));\r\n  const debug = Debug(config.data<DoghouseConfig>().id);\r\n\r\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\r\n  app.disable('x-powered-by');\r\n  app.enableCors();\r\n\r\n  // register global middlewares\r\n  if (globalMiddlewares.length > 0) {\r\n    app.use(globalMiddlewares);\r\n  }\r\n\r\n  // register global pipes\r\n  for (const globalPipe of globalPipes) {\r\n    app.useGlobalPipes(globalPipe);\r\n  }\r\n\r\n  app.useStaticAssets(join(__dirname, 'assets'));\r\n\r\n  await app.listen(config.data<DoghouseConfig>().port).catch(err => debug(err));\r\n  Logger.log(`${config.data<DoghouseConfig>().id} listening at port: ${config.data<DoghouseConfig>().port}`);\r\n}\r\n\r\nvoid bootstrap();\r\n","module.exports = require(\"@nestjs/core\");","module.exports = require(\"debug\");","module.exports = require(\"hbs\");","import { Module } from '@nestjs/common';\r\nimport { ScheduleModule } from '@nestjs/schedule';\r\nimport { AppController } from './controllers/app.controller';\r\nimport { AuthModule } from './modules/auth/auth.module';\r\nimport { HealthModule } from './modules/health/health.module';\r\nimport { ReleaseManagerModule } from './modules/release-manager/release-manager.module';\r\n\r\n\r\n@Module({\r\n  imports: [\r\n    ScheduleModule.forRoot(),\r\n    AuthModule,\r\n    HealthModule,\r\n    ReleaseManagerModule,\r\n  ],\r\n  controllers: [\r\n    AppController,\r\n  ],\r\n  providers: [],\r\n})\r\nexport class AppModule {}\r\n","import { Controller, Get } from '@nestjs/common';\r\n\r\n\r\n@Controller()\r\nexport class AppController {\r\n\r\n  @Get()\r\n  getStatus() {\r\n    return {\r\n      status: 'OK!',\r\n    };\r\n  }\r\n\r\n}\r\n","import { Global, Module } from '@nestjs/common';\r\nimport { APIKeyGuard } from './guards/api-key.guard';\r\nimport { SERVICES } from './services';\r\nimport { APIKeyService } from './services/api-key.service';\r\n\r\n@Global()\r\n@Module({\r\n  providers: [\r\n    ...SERVICES,\r\n    APIKeyGuard,\r\n  ],\r\n  exports: [\r\n    APIKeyGuard,\r\n    APIKeyService,\r\n  ],\r\n})\r\nexport class AuthModule {}\r\n","import { APIKeyService } from './api-key.service';\r\n\r\nexport const SERVICES = [\r\n  APIKeyService,\r\n];\r\n","import { Module } from '@nestjs/common';\r\nimport { ReleaseManagerModule } from '../release-manager/release-manager.module';\r\nimport { CONTROLLERS } from './controllers';\r\nimport { SERVICES } from './services';\r\nimport { SystemHealthService } from './services/system-health.service';\r\n\r\n\r\n@Module({\r\n  imports: [\r\n    ReleaseManagerModule,\r\n  ],\r\n  controllers: [\r\n    ...CONTROLLERS,\r\n  ],\r\n  providers: [\r\n    ...SERVICES,\r\n  ],\r\n  exports: [\r\n    SystemHealthService,\r\n  ],\r\n})\r\nexport class HealthModule {}\r\n","import { ScheduledReleaseController } from './scheduled-release.controller';\r\n\r\nexport const CONTROLLERS = [\r\n  ScheduledReleaseController,\r\n];\r\n","import { Body, Controller, Get, Post, UseGuards } from '@nestjs/common';\r\nimport { APIKeyGuard } from '../../auth/guards/api-key.guard';\r\nimport { ReleaseInstructionInputDTO } from '../dto/release-instruction-input.dto';\r\nimport { ReleaseManagerService } from '../services/release-manager.service';\r\n\r\n\r\n// TODO: refactor route namespace to AppModule using RouterModule available in Nest v8\r\n@Controller('scheduled-release')\r\nexport class ScheduledReleaseController {\r\n\r\n  constructor(\r\n    private readonly releaseManagerService: ReleaseManagerService,\r\n  ) {}\r\n\r\n  @Get()\r\n  async getUpcomingRelease() {\r\n    return this.releaseManagerService.getUpcomingRelease();\r\n  }\r\n\r\n  @Post()\r\n  @UseGuards(APIKeyGuard)\r\n  planUpcomingRelease(@Body() input: ReleaseInstructionInputDTO) {\r\n    return this.releaseManagerService.planUpcomingRelease(input);\r\n  }\r\n\r\n}\r\n","export * from './release-instruction-status.enum';\r\nexport * from './release-type.enum';\r\nexport * from './service-status.enum';\r\nexport * from './system-status.enum';\r\n\r\n","export enum ReleaseInstructionStatus {\r\n  PENDING = 'PENDING',\r\n  STALLED = 'STALLED',\r\n  RELEASE_IN_PROGRESS = 'RELEASE_IN_PROGRESS',\r\n  FAILED = 'FAILED',\r\n  SUCCEEDED = 'SUCCEEDED'\r\n}\r\n","export enum ReleaseType {\r\n  MAJOR = 'MAJOR',\r\n  MINOR = 'MINOR',\r\n  PATCH = 'PATCH',\r\n}\r\n","export enum ServiceStatus {\r\n  OPERATIONAL = 'OPERATIONAL',\r\n  DEGRADATION = 'DEGRADATION',\r\n  DOWN = 'DOWN'\r\n}\r\n","export enum SystemStatus {\r\n  FULLY_OPERATIONAL = 'FULLY_OPERATIONAL',\r\n  PARTIAL_DISRUPTION = 'PARTIAL_DISRUPTION',\r\n  MAJOR_DISRUPTION = 'MAJOR_DISRUPTION'\r\n}\r\n","export * from './doghouse-config';\r\nexport * from './release-instruction';\r\nexport * from './service';\r\nexport * from './service-health-status';\r\nexport * from './system-health-status';\r\n\r\n\r\n","module.exports = require(\"child_process\");","module.exports = require(\"util\");","module.exports = require(\"fs-extra\");","module.exports = require(\"nodegit\");","module.exports = require(\"@kubernetes/client-node\");","module.exports = require(\"fs/promises\");","module.exports = require(\"js-yaml\");","import { isHash, registerDecorator, ValidationOptions } from 'class-validator';\r\n\r\nexport function IsCommitRef(validationOptions?: ValidationOptions) {\r\n  // eslint-disable-next-line @typescript-eslint/ban-types\r\n  return function (object: Object, propertyName: string) {\r\n    registerDecorator({\r\n      name: 'IsCommitRef',\r\n      target: object.constructor,\r\n      propertyName,\r\n      constraints: [],\r\n      options: validationOptions,\r\n      validator: {\r\n        validate(value: any) {\r\n          return value === 'latest' || isHash(value, 'sha1');\r\n        },\r\n      },\r\n    });\r\n  };\r\n}\r\n","import { registerDecorator, ValidationArguments, ValidationOptions } from 'class-validator';\r\n\r\nexport function IsSmallerThan(fn: () => number, validationOptions?: ValidationOptions) {\r\n  // eslint-disable-next-line @typescript-eslint/ban-types\r\n  return function (object: Object, propertyName: string) {\r\n    registerDecorator({\r\n      name: 'IsSmallerThan',\r\n      target: object.constructor,\r\n      propertyName,\r\n      constraints: [fn],\r\n      options: validationOptions,\r\n      validator: {\r\n        validate(value: any, args: ValidationArguments) {\r\n          const maxValue = args.constraints[0]();\r\n\r\n          if (typeof maxValue !== 'number') {\r\n            throw new Error('Invalid value provided for IsSmallerThan-validator');\r\n          }\r\n\r\n          return typeof value === 'number' && value < maxValue;\r\n        },\r\n      },\r\n    });\r\n  };\r\n}\r\n","import { DeployService } from './deploy.service';\r\nimport { GitService } from './git.service';\r\nimport { K8sClusterService } from './k8s-cluster.service';\r\nimport { ReleaseManagerService } from './release-manager.service';\r\n\r\nexport const SERVICES = [\r\n  ReleaseManagerService,\r\n  K8sClusterService,\r\n  GitService,\r\n  DeployService,\r\n];\r\n","import { HealthController } from './health.controller';\r\n\r\nexport const CONTROLLERS = [\r\n  HealthController,\r\n];\r\n","import { Controller, Get, UseGuards } from '@nestjs/common';\r\nimport { APIKeyGuard } from '../../auth/guards/api-key.guard';\r\nimport { ServiceHealthService } from '../services/service-health.service';\r\nimport { SystemHealthService } from '../services/system-health.service';\r\n\r\n\r\n@Controller()\r\nexport class HealthController {\r\n\r\n  constructor(\r\n    private readonly systemHealthService: SystemHealthService,\r\n    private readonly serviceHealthService: ServiceHealthService,\r\n  ) {}\r\n\r\n  @Get('health')\r\n  getSystemHealth() {\r\n    return this.systemHealthService.getSystemHealth();\r\n  }\r\n\r\n  @Get('service-status')\r\n  @UseGuards(APIKeyGuard)\r\n  getServiceHealth() {\r\n    return this.serviceHealthService.getAllServicesHealth();\r\n  }\r\n\r\n}\r\n","module.exports = require(\"axios\");","import { CronService } from './cron.service';\r\nimport { ServiceHealthService } from './service-health.service';\r\nimport { SystemHealthService } from './system-health.service';\r\n\r\nexport const SERVICES = [\r\n  CronService,\r\n  ServiceHealthService,\r\n  SystemHealthService,\r\n];\r\n","import { Injectable } from '@nestjs/common';\r\nimport { Cron } from '@nestjs/schedule';\r\nimport { ServiceHealthService } from './service-health.service';\r\n\r\n@Injectable()\r\nexport class CronService {\r\n\r\n  constructor(\r\n    private readonly serviceStatusService: ServiceHealthService,\r\n  ) {}\r\n\r\n  @Cron('*/30 * * * * *', {\r\n    name: 'heartbeatCheck',\r\n  })\r\n  async heartbeatCheck() {\r\n    await this.serviceStatusService.updateAllServicesHealth();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}